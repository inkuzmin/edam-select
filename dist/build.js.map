{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/styles.scss?7398","webpack:///./src/edam.2.js","webpack:///./node_modules/fuse.js/dist/fuse.js","webpack:///./src/main.js","webpack:///(webpack)/buildin/global.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./src/styles.scss","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/style-loader/lib/addStyles.js","webpack:///./node_modules/style-loader/lib/urls.js","webpack:///./src/polyfills.js","webpack:///(webpack)/buildin/amd-options.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","content","options","hmr","transform","insertInto","undefined","locals","DEBUG","data_indexes","data","format","operation","topic","structure_indexes","EDAM","type","_classCallCheck","this","console","time","structure","clone","edam","timeEnd","internalId","map","list","v","length","result","Array","isArray","j","vv","ll","push","rel","dataIndex","rel_id","structureIndex","nodeId","factory","configurable","obj","toString","_createClass","defineProperties","target","props","descriptor","writable","Constructor","protoProps","staticProps","bitapRegexSearch","bitapSearch","patternAlphabet","Bitap","pattern","_ref","_ref$location","location","_ref$distance","distance","_ref$threshold","threshold","_ref$maxPatternLength","maxPatternLength","_ref$isCaseSensitive","isCaseSensitive","_ref$tokenSeparator","tokenSeparator","_ref$findAllMatches","findAllMatches","_ref$minMatchCharLeng","minMatchCharLength","instance","TypeError","toLowerCase","text","isMatch","score","matchedIndices","_options","_options2","path","deepValue","dotIndex","indexOf","firstSegment","remaining","slice","len","matchmask","arguments","start","end","match","mask","charAt","_i","SPECIAL_CHARS_REGEX","regex","RegExp","replace","matches","matchesLen","_ref$errors","errors","_ref$currentLocation","currentLocation","_ref$expectedLocation","expectedLocation","accuracy","proximity","Math","abs","bitapScore","textLen","currentThreshold","bestLocation","patternLen","matchMask","min","lastIndexOf","_score","lastBitArr","finalScore","binMax","binMin","binMid","floor","max","finish","bitArr","charMatch","Fuse","_ref$caseSensitive","caseSensitive","_ref$id","id","_ref$keys","keys","_ref$shouldSort","shouldSort","_ref$getFn","getFn","_ref$sortFn","sortFn","a","b","_ref$tokenize","tokenize","_ref$matchAllTokens","matchAllTokens","_ref$includeMatches","includeMatches","_ref$includeScore","includeScore","_ref$verbose","verbose","setCollection","_log","_prepareSearchers2","_prepareSearchers","tokenSearchers","fullSearcher","_search2","_search","weights","results","_computeScore","_sort","_format","tokens","split","resultMap","_analyze","record","index","_len","item","keysLen","weight","Error","_ref2","_ref3","_ref2$arrayIndex","arrayIndex","_ref3$tokenSearchers","_ref3$fullSearcher","_ref3$resultMap","_ref3$results","exists","averageScore","numTextMatches","mainSearchResult","search","words","scores","tokenSearcher","hasMatchInText","word","tokenSearchResult","scoresLen","_i2","checkTextMatches","existingResult","output","_i3","scoreLen","totalScore","bestScore","nScore","sort","finalOutput","JSON","stringify","transformers","indices","_len2","_console","log","apply","REL_PID","TERM_FID","TERM_PID","LABEL","Spotlight","spotlight","uid","document","getElementById","getElementsByClassName","style","classList","remove","add","err","node","display","setSpotlight","next","currentTree","parent","root","parentNode","treeCollection","prevNode","previousSibling","childNodes","prevSiblingOfAncestors","prev","warn","trace","nextSibling","nextNode","nextSiblingOfAncestors","Tag","tree","struct","edamId","term","termId","active","_this","tagWrap","createElement","className","tagRemoveIcon","appendChild","createTextNode","tagValue","addEventListener","event","CustomEvent","detail","dispatchEvent","EdamSelect","sel","params","_this2","initDepth","Infinity","getRoot","inline","opened","multiselect","closeOnSelect","maxHeight","selected","filtered","checkboxes","focused","searchKeys","label","synonyms","definitions","fuse","timeout","disclosureResults","searchResults","changed","treeNodes","el","generateEdamSelectView","querySelector","preselected","forEach","preventFocus","init","getTermById","relId","prevStruct","pop","hideLoader","_this3","tag","_extends","subroot","getSubRoot","_this4","getElementsByTagName","setClearStatus","setReset","displayNothingFound","hideNothingFound","treeMenu","TreeMenu","depth","fuseResults","append","setFirstVisible","scrollAfterUpDown","zIndex","blur","element","wrap","wrapHeight","clientHeight","height","getBoundingClientRect","r1","offsetTop","scrollTop","r2","rect","window","innerHeight","bottom","top","scroll","scrollY","focus","triggerOpen","_this5","edamSelectWrap","edamSelectContainer","edamSelectInputWrap","edamTagsWrap","input","placeholder","edamSelectMenuWrap","edamSelectMenu","edamSelectRemoveWrap","overflowY","edamSelectRemove","edamSelectArrowWrap","edamSelectArrow","edamSelectSpinner","edamNothingFound","divForMeasures","showLoader","status","contains","renderTags","resetChanges","clearSearch","reset","broadcast","filterLogic","e","blurInput","blurMenu","stopPropagation","open","focusInput","preventDefault","focusMenu","passive","recalculateInput","width","w","innerText","updateStatus","checkIfFilteringIsNeeded","termIds","filter","disabled","firstChild","removeChild","render","unselect","findIndex","keyCode","isDisclosed","disclose","scrollAfterDisclose","triggerSelect","preventReset","searchForReal","clearTimeout","_this6","setTimeout","_disclosureResults","_toConsumableArray","addAncestors","concat","Set","Event","_disclosureResults2","rels","foundRels","ancestors","idx","newTree","replaceChild","generateEdamSelectMenuItemView","rel_pid","_this7","_unselect","select","_select","children","getChildren","labelWrapper","getSpotlightId","labelIndent","triangleWrap","triangle","info","checkbox","tabIndex","showDetails","details","definitionsTitle","definitionsTitleText","definitionsWrap","definitionmItem","definitionText","synonymsWrap","synonymsTitle","synonymsTitleText","synonymItem","synonymText","linkTitle","linkTitleText","link","url","linkText","href","checked","marginLeft","visibility","whereInSearchResults","found","temp","k","substring","innerHTML","bySynonyms","span","spanText","ul","isShown","_this8","getById","ta","termByRel","tb","isInDisclosureResults","removeEventListener","triggerChangeEvent","destroy","self","_typeof","global","nodeType","_","define","g","Function","originalModule","webpackPolyfill","test","div-for-measures","edam-select-menu-wrap","edam-select-wrap","tags-wrap","tag-active","remove-wrap","clear-text","clear-tags","is-open","edam-select-container","edam-select-arrow","edam-select-spinner","spin","edam-select-arrow-wrap","is-focused","input-focus","edam-select-menu","menu-focus","edam-select-input-wrap","edam-select-menu-item","edam-nothing-found","tree-menu","label-wrapper","highlighted","triangle-wrap","by","title","show","useSourceMap","cssMapping","btoa","sourceMapping","sourceMap","base64","unescape","encodeURIComponent","sourceURLs","sources","source","sourceRoot","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","fn","memo","stylesInDom","isOldIE","all","atob","getElement","styleTarget","HTMLIFrameElement","contentDocument","head","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","domStyle","refs","parts","addStyle","listToStyles","newStyles","base","part","css","media","insertStyleElement","lastStyleElementInsertedAtTop","insertAt","insertBefore","before","removeStyleElement","splice","createStyleElement","attrs","addAttrs","setAttribute","update","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","createLinkElement","autoFixUrls","convertToAbsoluteUrls","blob","oldSrc","styleSheet","cssText","newObj","newList","mayRemove","textStore","replaceText","replacement","Boolean","cssNode","baseUrl","protocol","host","currentDir","pathname","fullMatch","origUrl","newUrl","unquotedOrigUrl","trim","$1","Element","CharacterData","DocumentType","bubbles","cancelable","evt","createEvent","initCustomEvent","__webpack_amd_options__"],"mappings":"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","file":"build.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js??ref--4-1!../node_modules/sass-loader/lib/loader.js??ref--4-2!./styles.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js??ref--4-1!../node_modules/sass-loader/lib/loader.js??ref--4-2!./styles.scss\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/dist/cjs.js??ref--4-1!../node_modules/sass-loader/lib/loader.js??ref--4-2!./styles.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import edam from './edam.2.json';\n\nconst DEBUG = false;\n\nlet data_indexes = {\n  data: null,\n  format: null,\n  operation: null,\n  topic: null\n};\n\nlet structure_indexes = {\n  data: null,\n  format: null,\n  operation: null,\n  topic: null\n};\n\nclass EDAM {\n\n  static getTermById(type, internalId) {\n    if (!!data_indexes[type]) {\n      // if cached do nothing\n    } else {\n      // otherwise build map\n      let map = {};\n      let a = edam.data[type];\n      a.map(function (o, i) {\n        map[o[0]] = i;\n      });\n      data_indexes[type] = map;\n    }\n\n\n    return edam.data[type][data_indexes[type][internalId]];\n  }\n\n  constructor(type) {\n    DEBUG && console.time('EDAM init');\n    this.type = type;\n\n    this.structure = this.clone(\n      edam.structure[type]\n    );\n\n    this.data = this.clone(\n      edam.data[type]\n    );\n    DEBUG && console.timeEnd('EDAM init');\n  }\n\n  clone(list) {\n    let i, v, l = list.length, result = [];\n    for (i = 0; i < l; i += 1) {\n      v = list[i];\n      if (Array.isArray(v)) {\n        let j, vv = [], ll = v.length;\n        for (j = 0; j < ll; j += 1) {\n          vv.push(v[j]);\n        }\n        result.push(vv);\n      } else {\n        result.push(v);\n      }\n    }\n    return result;\n  }\n\n  termByRel(rel) {\n    return this.data[ this.dataIndex()[rel[1]]];\n  }\n\n  termByRelId(rel_id) {\n    return this.data[ this.dataIndex()[this.structure[ this.structureIndex()[ rel_id ] ][1]] ];\n  }\n\n  getRoot() {\n    return this.structure[this.structureIndex()[ 0 ]];\n  }\n\n  getById(nodeId) {\n    return this.structure[this.structureIndex()[ nodeId ]];\n  }\n\n  dataIndex() {\n    if (!!data_indexes[this.type]) { // if cached return cache\n      return data_indexes[this.type];\n    } else { // else build\n      let map = {};\n      let a = this.data;\n      a.map(function (o, i) {\n        map[o[0]] = i;\n      });\n      data_indexes[this.type] = map;\n      return map;\n    }\n  }\n\n  structureIndex() {\n    if (!!structure_indexes[this.type]) { // if cached return cache\n      return structure_indexes[this.type];\n    } else { // else build\n      let map = {};\n      let a = this.structure;\n      a.map(function (o, i) {\n        map[o[0]] = i;\n      });\n      structure_indexes[this.type] = map;\n      return map;\n    }\n  }\n}\n\nexport default EDAM;\n","/*!\n * Fuse.js v3.2.0 - Lightweight fuzzy-search (http://fusejs.io)\n * \n * Copyright (c) 2012-2017 Kirollos Risk (http://kiro.me)\n * All Rights Reserved. Apache Software License 2.0\n * \n * http://www.apache.org/licenses/LICENSE-2.0\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Fuse\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Fuse\"] = factory();\n\telse\n\t\troot[\"Fuse\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 8);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (obj) {\n  return Object.prototype.toString.call(obj) === '[object Array]';\n};\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar bitapRegexSearch = __webpack_require__(5);\nvar bitapSearch = __webpack_require__(7);\nvar patternAlphabet = __webpack_require__(4);\n\nvar Bitap = function () {\n  function Bitap(pattern, _ref) {\n    var _ref$location = _ref.location,\n        location = _ref$location === undefined ? 0 : _ref$location,\n        _ref$distance = _ref.distance,\n        distance = _ref$distance === undefined ? 100 : _ref$distance,\n        _ref$threshold = _ref.threshold,\n        threshold = _ref$threshold === undefined ? 0.6 : _ref$threshold,\n        _ref$maxPatternLength = _ref.maxPatternLength,\n        maxPatternLength = _ref$maxPatternLength === undefined ? 32 : _ref$maxPatternLength,\n        _ref$isCaseSensitive = _ref.isCaseSensitive,\n        isCaseSensitive = _ref$isCaseSensitive === undefined ? false : _ref$isCaseSensitive,\n        _ref$tokenSeparator = _ref.tokenSeparator,\n        tokenSeparator = _ref$tokenSeparator === undefined ? / +/g : _ref$tokenSeparator,\n        _ref$findAllMatches = _ref.findAllMatches,\n        findAllMatches = _ref$findAllMatches === undefined ? false : _ref$findAllMatches,\n        _ref$minMatchCharLeng = _ref.minMatchCharLength,\n        minMatchCharLength = _ref$minMatchCharLeng === undefined ? 1 : _ref$minMatchCharLeng;\n\n    _classCallCheck(this, Bitap);\n\n    this.options = {\n      location: location,\n      distance: distance,\n      threshold: threshold,\n      maxPatternLength: maxPatternLength,\n      isCaseSensitive: isCaseSensitive,\n      tokenSeparator: tokenSeparator,\n      findAllMatches: findAllMatches,\n      minMatchCharLength: minMatchCharLength\n    };\n\n    this.pattern = this.options.isCaseSensitive ? pattern : pattern.toLowerCase();\n\n    if (this.pattern.length <= maxPatternLength) {\n      this.patternAlphabet = patternAlphabet(this.pattern);\n    }\n  }\n\n  _createClass(Bitap, [{\n    key: 'search',\n    value: function search(text) {\n      if (!this.options.isCaseSensitive) {\n        text = text.toLowerCase();\n      }\n\n      // Exact match\n      if (this.pattern === text) {\n        return {\n          isMatch: true,\n          score: 0,\n          matchedIndices: [[0, text.length - 1]]\n        };\n      }\n\n      // When pattern length is greater than the machine word length, just do a a regex comparison\n      var _options = this.options,\n          maxPatternLength = _options.maxPatternLength,\n          tokenSeparator = _options.tokenSeparator;\n\n      if (this.pattern.length > maxPatternLength) {\n        return bitapRegexSearch(text, this.pattern, tokenSeparator);\n      }\n\n      // Otherwise, use Bitap algorithm\n      var _options2 = this.options,\n          location = _options2.location,\n          distance = _options2.distance,\n          threshold = _options2.threshold,\n          findAllMatches = _options2.findAllMatches,\n          minMatchCharLength = _options2.minMatchCharLength;\n\n      return bitapSearch(text, this.pattern, this.patternAlphabet, {\n        location: location,\n        distance: distance,\n        threshold: threshold,\n        findAllMatches: findAllMatches,\n        minMatchCharLength: minMatchCharLength\n      });\n    }\n  }]);\n\n  return Bitap;\n}();\n\n// let x = new Bitap(\"od mn war\", {})\n// let result = x.search(\"Old Man's War\")\n// console.log(result)\n\nmodule.exports = Bitap;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar isArray = __webpack_require__(0);\n\nvar deepValue = function deepValue(obj, path, list) {\n  if (!path) {\n    // If there's no path left, we've gotten to the object we care about.\n    list.push(obj);\n  } else {\n    var dotIndex = path.indexOf('.');\n    var firstSegment = path;\n    var remaining = null;\n\n    if (dotIndex !== -1) {\n      firstSegment = path.slice(0, dotIndex);\n      remaining = path.slice(dotIndex + 1);\n    }\n\n    var value = obj[firstSegment];\n\n    if (value !== null && value !== undefined) {\n      if (!remaining && (typeof value === 'string' || typeof value === 'number')) {\n        list.push(value.toString());\n      } else if (isArray(value)) {\n        // Search each item in the array.\n        for (var i = 0, len = value.length; i < len; i += 1) {\n          deepValue(value[i], remaining, list);\n        }\n      } else if (remaining) {\n        // An object. Recurse further.\n        deepValue(value, remaining, list);\n      }\n    }\n  }\n\n  return list;\n};\n\nmodule.exports = function (obj, path) {\n  return deepValue(obj, path, []);\n};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function () {\n  var matchmask = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var minMatchCharLength = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n  var matchedIndices = [];\n  var start = -1;\n  var end = -1;\n  var i = 0;\n\n  for (var len = matchmask.length; i < len; i += 1) {\n    var match = matchmask[i];\n    if (match && start === -1) {\n      start = i;\n    } else if (!match && start !== -1) {\n      end = i - 1;\n      if (end - start + 1 >= minMatchCharLength) {\n        matchedIndices.push([start, end]);\n      }\n      start = -1;\n    }\n  }\n\n  // (i-1 - start) + 1 => i - start\n  if (matchmask[i - 1] && i - start >= minMatchCharLength) {\n    matchedIndices.push([start, i - 1]);\n  }\n\n  return matchedIndices;\n};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (pattern) {\n  var mask = {};\n  var len = pattern.length;\n\n  for (var i = 0; i < len; i += 1) {\n    mask[pattern.charAt(i)] = 0;\n  }\n\n  for (var _i = 0; _i < len; _i += 1) {\n    mask[pattern.charAt(_i)] |= 1 << len - _i - 1;\n  }\n\n  return mask;\n};\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar SPECIAL_CHARS_REGEX = /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g;\n\nmodule.exports = function (text, pattern) {\n  var tokenSeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : / +/g;\n\n  var regex = new RegExp(pattern.replace(SPECIAL_CHARS_REGEX, '\\\\$&').replace(tokenSeparator, '|'));\n  var matches = text.match(regex);\n  var isMatch = !!matches;\n  var matchedIndices = [];\n\n  if (isMatch) {\n    for (var i = 0, matchesLen = matches.length; i < matchesLen; i += 1) {\n      var match = matches[i];\n      matchedIndices.push([text.indexOf(match), match.length - 1]);\n    }\n  }\n\n  return {\n    // TODO: revisit this score\n    score: isMatch ? 0.5 : 1,\n    isMatch: isMatch,\n    matchedIndices: matchedIndices\n  };\n};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (pattern, _ref) {\n  var _ref$errors = _ref.errors,\n      errors = _ref$errors === undefined ? 0 : _ref$errors,\n      _ref$currentLocation = _ref.currentLocation,\n      currentLocation = _ref$currentLocation === undefined ? 0 : _ref$currentLocation,\n      _ref$expectedLocation = _ref.expectedLocation,\n      expectedLocation = _ref$expectedLocation === undefined ? 0 : _ref$expectedLocation,\n      _ref$distance = _ref.distance,\n      distance = _ref$distance === undefined ? 100 : _ref$distance;\n\n  var accuracy = errors / pattern.length;\n  var proximity = Math.abs(expectedLocation - currentLocation);\n\n  if (!distance) {\n    // Dodge divide by zero error.\n    return proximity ? 1.0 : accuracy;\n  }\n\n  return accuracy + proximity / distance;\n};\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar bitapScore = __webpack_require__(6);\nvar matchedIndices = __webpack_require__(3);\n\nmodule.exports = function (text, pattern, patternAlphabet, _ref) {\n  var _ref$location = _ref.location,\n      location = _ref$location === undefined ? 0 : _ref$location,\n      _ref$distance = _ref.distance,\n      distance = _ref$distance === undefined ? 100 : _ref$distance,\n      _ref$threshold = _ref.threshold,\n      threshold = _ref$threshold === undefined ? 0.6 : _ref$threshold,\n      _ref$findAllMatches = _ref.findAllMatches,\n      findAllMatches = _ref$findAllMatches === undefined ? false : _ref$findAllMatches,\n      _ref$minMatchCharLeng = _ref.minMatchCharLength,\n      minMatchCharLength = _ref$minMatchCharLeng === undefined ? 1 : _ref$minMatchCharLeng;\n\n  var expectedLocation = location;\n  // Set starting location at beginning text and initialize the alphabet.\n  var textLen = text.length;\n  // Highest score beyond which we give up.\n  var currentThreshold = threshold;\n  // Is there a nearby exact match? (speedup)\n  var bestLocation = text.indexOf(pattern, expectedLocation);\n\n  var patternLen = pattern.length;\n\n  // a mask of the matches\n  var matchMask = [];\n  for (var i = 0; i < textLen; i += 1) {\n    matchMask[i] = 0;\n  }\n\n  if (bestLocation !== -1) {\n    var score = bitapScore(pattern, {\n      errors: 0,\n      currentLocation: bestLocation,\n      expectedLocation: expectedLocation,\n      distance: distance\n    });\n    currentThreshold = Math.min(score, currentThreshold);\n\n    // What about in the other direction? (speed up)\n    bestLocation = text.lastIndexOf(pattern, expectedLocation + patternLen);\n\n    if (bestLocation !== -1) {\n      var _score = bitapScore(pattern, {\n        errors: 0,\n        currentLocation: bestLocation,\n        expectedLocation: expectedLocation,\n        distance: distance\n      });\n      currentThreshold = Math.min(_score, currentThreshold);\n    }\n  }\n\n  // Reset the best location\n  bestLocation = -1;\n\n  var lastBitArr = [];\n  var finalScore = 1;\n  var binMax = patternLen + textLen;\n\n  var mask = 1 << patternLen - 1;\n\n  for (var _i = 0; _i < patternLen; _i += 1) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from the match location we can stray\n    // at this error level.\n    var binMin = 0;\n    var binMid = binMax;\n\n    while (binMin < binMid) {\n      var _score3 = bitapScore(pattern, {\n        errors: _i,\n        currentLocation: expectedLocation + binMid,\n        expectedLocation: expectedLocation,\n        distance: distance\n      });\n\n      if (_score3 <= currentThreshold) {\n        binMin = binMid;\n      } else {\n        binMax = binMid;\n      }\n\n      binMid = Math.floor((binMax - binMin) / 2 + binMin);\n    }\n\n    // Use the result from this iteration as the maximum for the next.\n    binMax = binMid;\n\n    var start = Math.max(1, expectedLocation - binMid + 1);\n    var finish = findAllMatches ? textLen : Math.min(expectedLocation + binMid, textLen) + patternLen;\n\n    // Initialize the bit array\n    var bitArr = Array(finish + 2);\n\n    bitArr[finish + 1] = (1 << _i) - 1;\n\n    for (var j = finish; j >= start; j -= 1) {\n      var currentLocation = j - 1;\n      var charMatch = patternAlphabet[text.charAt(currentLocation)];\n\n      if (charMatch) {\n        matchMask[currentLocation] = 1;\n      }\n\n      // First pass: exact match\n      bitArr[j] = (bitArr[j + 1] << 1 | 1) & charMatch;\n\n      // Subsequent passes: fuzzy match\n      if (_i !== 0) {\n        bitArr[j] |= (lastBitArr[j + 1] | lastBitArr[j]) << 1 | 1 | lastBitArr[j + 1];\n      }\n\n      if (bitArr[j] & mask) {\n        finalScore = bitapScore(pattern, {\n          errors: _i,\n          currentLocation: currentLocation,\n          expectedLocation: expectedLocation,\n          distance: distance\n        });\n\n        // This match will almost certainly be better than any existing match.\n        // But check anyway.\n        if (finalScore <= currentThreshold) {\n          // Indeed it is\n          currentThreshold = finalScore;\n          bestLocation = currentLocation;\n\n          // Already passed `loc`, downhill from here on in.\n          if (bestLocation <= expectedLocation) {\n            break;\n          }\n\n          // When passing `bestLocation`, don't exceed our current distance from `expectedLocation`.\n          start = Math.max(1, 2 * expectedLocation - bestLocation);\n        }\n      }\n    }\n\n    // No hope for a (better) match at greater error levels.\n    var _score2 = bitapScore(pattern, {\n      errors: _i + 1,\n      currentLocation: expectedLocation,\n      expectedLocation: expectedLocation,\n      distance: distance\n    });\n\n    if (_score2 > currentThreshold) {\n      break;\n    }\n\n    lastBitArr = bitArr;\n  }\n\n  // Count exact matches (those with a score of 0) to be \"almost\" exact\n  return {\n    isMatch: bestLocation >= 0,\n    score: finalScore === 0 ? 0.001 : finalScore,\n    matchedIndices: matchedIndices(matchMask, minMatchCharLength)\n  };\n};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Bitap = __webpack_require__(1);\nvar deepValue = __webpack_require__(2);\nvar isArray = __webpack_require__(0);\n\nvar Fuse = function () {\n  function Fuse(list, _ref) {\n    var _ref$location = _ref.location,\n        location = _ref$location === undefined ? 0 : _ref$location,\n        _ref$distance = _ref.distance,\n        distance = _ref$distance === undefined ? 100 : _ref$distance,\n        _ref$threshold = _ref.threshold,\n        threshold = _ref$threshold === undefined ? 0.6 : _ref$threshold,\n        _ref$maxPatternLength = _ref.maxPatternLength,\n        maxPatternLength = _ref$maxPatternLength === undefined ? 32 : _ref$maxPatternLength,\n        _ref$caseSensitive = _ref.caseSensitive,\n        caseSensitive = _ref$caseSensitive === undefined ? false : _ref$caseSensitive,\n        _ref$tokenSeparator = _ref.tokenSeparator,\n        tokenSeparator = _ref$tokenSeparator === undefined ? / +/g : _ref$tokenSeparator,\n        _ref$findAllMatches = _ref.findAllMatches,\n        findAllMatches = _ref$findAllMatches === undefined ? false : _ref$findAllMatches,\n        _ref$minMatchCharLeng = _ref.minMatchCharLength,\n        minMatchCharLength = _ref$minMatchCharLeng === undefined ? 1 : _ref$minMatchCharLeng,\n        _ref$id = _ref.id,\n        id = _ref$id === undefined ? null : _ref$id,\n        _ref$keys = _ref.keys,\n        keys = _ref$keys === undefined ? [] : _ref$keys,\n        _ref$shouldSort = _ref.shouldSort,\n        shouldSort = _ref$shouldSort === undefined ? true : _ref$shouldSort,\n        _ref$getFn = _ref.getFn,\n        getFn = _ref$getFn === undefined ? deepValue : _ref$getFn,\n        _ref$sortFn = _ref.sortFn,\n        sortFn = _ref$sortFn === undefined ? function (a, b) {\n      return a.score - b.score;\n    } : _ref$sortFn,\n        _ref$tokenize = _ref.tokenize,\n        tokenize = _ref$tokenize === undefined ? false : _ref$tokenize,\n        _ref$matchAllTokens = _ref.matchAllTokens,\n        matchAllTokens = _ref$matchAllTokens === undefined ? false : _ref$matchAllTokens,\n        _ref$includeMatches = _ref.includeMatches,\n        includeMatches = _ref$includeMatches === undefined ? false : _ref$includeMatches,\n        _ref$includeScore = _ref.includeScore,\n        includeScore = _ref$includeScore === undefined ? false : _ref$includeScore,\n        _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose;\n\n    _classCallCheck(this, Fuse);\n\n    this.options = {\n      location: location,\n      distance: distance,\n      threshold: threshold,\n      maxPatternLength: maxPatternLength,\n      isCaseSensitive: caseSensitive,\n      tokenSeparator: tokenSeparator,\n      findAllMatches: findAllMatches,\n      minMatchCharLength: minMatchCharLength,\n      id: id,\n      keys: keys,\n      includeMatches: includeMatches,\n      includeScore: includeScore,\n      shouldSort: shouldSort,\n      getFn: getFn,\n      sortFn: sortFn,\n      verbose: verbose,\n      tokenize: tokenize,\n      matchAllTokens: matchAllTokens\n    };\n\n    this.setCollection(list);\n  }\n\n  _createClass(Fuse, [{\n    key: 'setCollection',\n    value: function setCollection(list) {\n      this.list = list;\n      return list;\n    }\n  }, {\n    key: 'search',\n    value: function search(pattern) {\n      this._log('---------\\nSearch pattern: \"' + pattern + '\"');\n\n      var _prepareSearchers2 = this._prepareSearchers(pattern),\n          tokenSearchers = _prepareSearchers2.tokenSearchers,\n          fullSearcher = _prepareSearchers2.fullSearcher;\n\n      var _search2 = this._search(tokenSearchers, fullSearcher),\n          weights = _search2.weights,\n          results = _search2.results;\n\n      this._computeScore(weights, results);\n\n      if (this.options.shouldSort) {\n        this._sort(results);\n      }\n\n      return this._format(results);\n    }\n  }, {\n    key: '_prepareSearchers',\n    value: function _prepareSearchers() {\n      var pattern = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n      var tokenSearchers = [];\n\n      if (this.options.tokenize) {\n        // Tokenize on the separator\n        var tokens = pattern.split(this.options.tokenSeparator);\n        for (var i = 0, len = tokens.length; i < len; i += 1) {\n          tokenSearchers.push(new Bitap(tokens[i], this.options));\n        }\n      }\n\n      var fullSearcher = new Bitap(pattern, this.options);\n\n      return { tokenSearchers: tokenSearchers, fullSearcher: fullSearcher };\n    }\n  }, {\n    key: '_search',\n    value: function _search() {\n      var tokenSearchers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var fullSearcher = arguments[1];\n\n      var list = this.list;\n      var resultMap = {};\n      var results = [];\n\n      // Check the first item in the list, if it's a string, then we assume\n      // that every item in the list is also a string, and thus it's a flattened array.\n      if (typeof list[0] === 'string') {\n        // Iterate over every item\n        for (var i = 0, len = list.length; i < len; i += 1) {\n          this._analyze({\n            key: '',\n            value: list[i],\n            record: i,\n            index: i\n          }, {\n            resultMap: resultMap,\n            results: results,\n            tokenSearchers: tokenSearchers,\n            fullSearcher: fullSearcher\n          });\n        }\n\n        return { weights: null, results: results };\n      }\n\n      // Otherwise, the first item is an Object (hopefully), and thus the searching\n      // is done on the values of the keys of each item.\n      var weights = {};\n      for (var _i = 0, _len = list.length; _i < _len; _i += 1) {\n        var item = list[_i];\n        // Iterate over every key\n        for (var j = 0, keysLen = this.options.keys.length; j < keysLen; j += 1) {\n          var key = this.options.keys[j];\n          if (typeof key !== 'string') {\n            weights[key.name] = {\n              weight: 1 - key.weight || 1\n            };\n            if (key.weight <= 0 || key.weight > 1) {\n              throw new Error('Key weight has to be > 0 and <= 1');\n            }\n            key = key.name;\n          } else {\n            weights[key] = {\n              weight: 1\n            };\n          }\n\n          this._analyze({\n            key: key,\n            value: this.options.getFn(item, key),\n            record: item,\n            index: _i\n          }, {\n            resultMap: resultMap,\n            results: results,\n            tokenSearchers: tokenSearchers,\n            fullSearcher: fullSearcher\n          });\n        }\n      }\n\n      return { weights: weights, results: results };\n    }\n  }, {\n    key: '_analyze',\n    value: function _analyze(_ref2, _ref3) {\n      var key = _ref2.key,\n          _ref2$arrayIndex = _ref2.arrayIndex,\n          arrayIndex = _ref2$arrayIndex === undefined ? -1 : _ref2$arrayIndex,\n          value = _ref2.value,\n          record = _ref2.record,\n          index = _ref2.index;\n      var _ref3$tokenSearchers = _ref3.tokenSearchers,\n          tokenSearchers = _ref3$tokenSearchers === undefined ? [] : _ref3$tokenSearchers,\n          _ref3$fullSearcher = _ref3.fullSearcher,\n          fullSearcher = _ref3$fullSearcher === undefined ? [] : _ref3$fullSearcher,\n          _ref3$resultMap = _ref3.resultMap,\n          resultMap = _ref3$resultMap === undefined ? {} : _ref3$resultMap,\n          _ref3$results = _ref3.results,\n          results = _ref3$results === undefined ? [] : _ref3$results;\n\n      // Check if the texvaluet can be searched\n      if (value === undefined || value === null) {\n        return;\n      }\n\n      var exists = false;\n      var averageScore = -1;\n      var numTextMatches = 0;\n\n      if (typeof value === 'string') {\n        this._log('\\nKey: ' + (key === '' ? '-' : key));\n\n        var mainSearchResult = fullSearcher.search(value);\n        this._log('Full text: \"' + value + '\", score: ' + mainSearchResult.score);\n\n        if (this.options.tokenize) {\n          var words = value.split(this.options.tokenSeparator);\n          var scores = [];\n\n          for (var i = 0; i < tokenSearchers.length; i += 1) {\n            var tokenSearcher = tokenSearchers[i];\n\n            this._log('\\nPattern: \"' + tokenSearcher.pattern + '\"');\n\n            // let tokenScores = []\n            var hasMatchInText = false;\n\n            for (var j = 0; j < words.length; j += 1) {\n              var word = words[j];\n              var tokenSearchResult = tokenSearcher.search(word);\n              var obj = {};\n              if (tokenSearchResult.isMatch) {\n                obj[word] = tokenSearchResult.score;\n                exists = true;\n                hasMatchInText = true;\n                scores.push(tokenSearchResult.score);\n              } else {\n                obj[word] = 1;\n                if (!this.options.matchAllTokens) {\n                  scores.push(1);\n                }\n              }\n              this._log('Token: \"' + word + '\", score: ' + obj[word]);\n              // tokenScores.push(obj)\n            }\n\n            if (hasMatchInText) {\n              numTextMatches += 1;\n            }\n          }\n\n          averageScore = scores[0];\n          var scoresLen = scores.length;\n          for (var _i2 = 1; _i2 < scoresLen; _i2 += 1) {\n            averageScore += scores[_i2];\n          }\n          averageScore = averageScore / scoresLen;\n\n          this._log('Token score average:', averageScore);\n        }\n\n        var finalScore = mainSearchResult.score;\n        if (averageScore > -1) {\n          finalScore = (finalScore + averageScore) / 2;\n        }\n\n        this._log('Score average:', finalScore);\n\n        var checkTextMatches = this.options.tokenize && this.options.matchAllTokens ? numTextMatches >= tokenSearchers.length : true;\n\n        this._log('\\nCheck Matches: ' + checkTextMatches);\n\n        // If a match is found, add the item to <rawResults>, including its score\n        if ((exists || mainSearchResult.isMatch) && checkTextMatches) {\n          // Check if the item already exists in our results\n          var existingResult = resultMap[index];\n          if (existingResult) {\n            // Use the lowest score\n            // existingResult.score, bitapResult.score\n            existingResult.output.push({\n              key: key,\n              arrayIndex: arrayIndex,\n              value: value,\n              score: finalScore,\n              matchedIndices: mainSearchResult.matchedIndices\n            });\n          } else {\n            // Add it to the raw result list\n            resultMap[index] = {\n              item: record,\n              output: [{\n                key: key,\n                arrayIndex: arrayIndex,\n                value: value,\n                score: finalScore,\n                matchedIndices: mainSearchResult.matchedIndices\n              }]\n            };\n\n            results.push(resultMap[index]);\n          }\n        }\n      } else if (isArray(value)) {\n        for (var _i3 = 0, len = value.length; _i3 < len; _i3 += 1) {\n          this._analyze({\n            key: key,\n            arrayIndex: _i3,\n            value: value[_i3],\n            record: record,\n            index: index\n          }, {\n            resultMap: resultMap,\n            results: results,\n            tokenSearchers: tokenSearchers,\n            fullSearcher: fullSearcher\n          });\n        }\n      }\n    }\n  }, {\n    key: '_computeScore',\n    value: function _computeScore(weights, results) {\n      this._log('\\n\\nComputing score:\\n');\n\n      for (var i = 0, len = results.length; i < len; i += 1) {\n        var output = results[i].output;\n        var scoreLen = output.length;\n\n        var totalScore = 0;\n        var bestScore = 1;\n\n        for (var j = 0; j < scoreLen; j += 1) {\n          var weight = weights ? weights[output[j].key].weight : 1;\n          var score = weight === 1 ? output[j].score : output[j].score || 0.001;\n          var nScore = score * weight;\n\n          if (weight !== 1) {\n            bestScore = Math.min(bestScore, nScore);\n          } else {\n            output[j].nScore = nScore;\n            totalScore += nScore;\n          }\n        }\n\n        results[i].score = bestScore === 1 ? totalScore / scoreLen : bestScore;\n\n        this._log(results[i]);\n      }\n    }\n  }, {\n    key: '_sort',\n    value: function _sort(results) {\n      this._log('\\n\\nSorting....');\n      results.sort(this.options.sortFn);\n    }\n  }, {\n    key: '_format',\n    value: function _format(results) {\n      var finalOutput = [];\n\n      this._log('\\n\\nOutput:\\n\\n', JSON.stringify(results));\n\n      var transformers = [];\n\n      if (this.options.includeMatches) {\n        transformers.push(function (result, data) {\n          var output = result.output;\n          data.matches = [];\n\n          for (var i = 0, len = output.length; i < len; i += 1) {\n            var item = output[i];\n\n            if (item.matchedIndices.length === 0) {\n              continue;\n            }\n\n            var obj = {\n              indices: item.matchedIndices,\n              value: item.value\n            };\n            if (item.key) {\n              obj.key = item.key;\n            }\n            if (item.hasOwnProperty('arrayIndex') && item.arrayIndex > -1) {\n              obj.arrayIndex = item.arrayIndex;\n            }\n            data.matches.push(obj);\n          }\n        });\n      }\n\n      if (this.options.includeScore) {\n        transformers.push(function (result, data) {\n          data.score = result.score;\n        });\n      }\n\n      for (var i = 0, len = results.length; i < len; i += 1) {\n        var result = results[i];\n\n        if (this.options.id) {\n          result.item = this.options.getFn(result.item, this.options.id)[0];\n        }\n\n        if (!transformers.length) {\n          finalOutput.push(result.item);\n          continue;\n        }\n\n        var data = {\n          item: result.item\n        };\n\n        for (var j = 0, _len2 = transformers.length; j < _len2; j += 1) {\n          transformers[j](result, data);\n        }\n\n        finalOutput.push(data);\n      }\n\n      return finalOutput;\n    }\n  }, {\n    key: '_log',\n    value: function _log() {\n      if (this.options.verbose) {\n        var _console;\n\n        (_console = console).log.apply(_console, arguments);\n      }\n    }\n  }]);\n\n  return Fuse;\n}();\n\nmodule.exports = Fuse;\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=fuse.js.map","import style from './styles.scss';\n\nimport EDAM from './edam.2.js';\n\nimport './polyfills.js';\n\nimport Fuse from \"fuse.js\";\n\n// struct fields\nconst REL_PID = 0;\nconst TERM_FID = 1;\nconst CHILDREN = 2;\nconst PARENT = 3;\n\n// term fields\nconst TERM_PID = 0;\nconst IRI = 1;\nconst LABEL = 2;\nconst SYNONYMS = 3;\nconst DEFINITIONS = 4;\nconst REL_FID = 5;\n\nconst DEBUG = false;\n\nclass Spotlight {\n  constructor(id) {\n    this.id = id;\n    this.spotlight = undefined;\n  }\n\n  reset() {\n    this.spotlight = undefined;\n  }\n\n  setSpotlight(uid) {\n    try {\n      if (this.spotlight) {\n        document.getElementById(this.spotlight)\n          .getElementsByClassName(style['label-wrapper']) &&\n        document.getElementById(this.spotlight)\n          .getElementsByClassName(style['label-wrapper'])[0]\n          .classList.remove(style['spotlight']);\n      }\n      this.spotlight = uid;\n      document.getElementById(this.spotlight)\n        .getElementsByClassName(style['label-wrapper'])[0]\n        .classList.add(style['spotlight']);\n    } catch (err) {\n      DEBUG && console.log(err);\n      this.spotlight = undefined;\n    }\n  }\n\n  getSpotlightId() {\n    return this.spotlight;\n  }\n\n  setFirstVisible() {\n    let root = document.getElementById('edam-' + this.id).getElementsByClassName(style['tree-menu'])[0];\n    let node = root.getElementsByClassName(style['tree-menu'])[0];\n\n    if (node.style.display !== 'none') {\n      this.setSpotlight(node.id);\n    } else {\n      this.next(node.id);\n    }\n  }\n\n\n  prevSiblingOfAncestors(currentTree) {\n    let parent;\n    let root = document.getElementById('edam-' + this.id).getElementsByClassName(style['tree-menu'])[0];\n    while (parent = currentTree.parentNode.parentNode) {\n      if (parent == root) {\n        let treeCollection = root.getElementsByClassName(style['tree-menu']);\n        return treeCollection[treeCollection.length - 1];\n      }\n      if (parent) {\n        return parent;\n      } else {\n        currentTree = parent;\n      }\n    }\n  }\n\n  prev(uid = this.spotlight) {\n    try {\n      let currentTree = document.getElementById(uid);\n      let prevNode;\n      if (currentTree.previousSibling) {\n        prevNode = currentTree.previousSibling;\n        let childNodes = prevNode.getElementsByClassName(style['tree-menu']);\n        if (childNodes.length > 0) {\n          prevNode = childNodes[childNodes.length - 1];\n        }\n      } else {\n        prevNode = this.prevSiblingOfAncestors(currentTree);\n      }\n      if (prevNode.style.display !== 'none') {\n        this.setSpotlight(prevNode.id);\n      } else {\n        this.prev(prevNode.id);\n      }\n    } catch (err) {\n      DEBUG && console.warn(err);\n      DEBUG && console.trace();\n      // this.setFirstVisible();\n    }\n  }\n\n  nextSiblingOfAncestors(currentTree) {\n    let parent;\n    let root = document.getElementById('edam-' + this.id).getElementsByClassName(style['tree-menu'])[0];\n    while (parent = currentTree.parentNode.parentNode) {\n      if (parent == root) {\n        return root.getElementsByClassName(style['tree-menu'])[0];\n      }\n      if (parent.nextSibling) {\n        return parent.nextSibling;\n      } else {\n        currentTree = parent;\n      }\n    }\n  }\n\n  next(uid = this.spotlight) {\n    try {\n      let currentTree = document.getElementById(uid);\n      let childNodes = currentTree.getElementsByClassName(style['tree-menu']);\n      let nextNode;\n\n      if (childNodes.length > 0) {\n        nextNode = childNodes[0];\n      } else if (currentTree.nextSibling) {\n        nextNode = currentTree.nextSibling;\n      } else {\n        nextNode = this.nextSiblingOfAncestors(currentTree);\n      }\n      if (nextNode.style.display !== 'none') {\n        this.setSpotlight(nextNode.id);\n      } else {\n        this.next(nextNode.id);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n}\n\nclass Tag {\n\n  constructor(tree) {\n    this.id = 'edam-term-' + tree.id + '-' + tree.struct[REL_PID];\n    this.edamId = tree.id;\n    this.value = tree.term[LABEL];\n    this.termId = tree.term[TERM_PID];\n\n    this.active = false;\n  }\n\n  render() {\n    let tagWrap = document.createElement('div');\n    tagWrap.className = style['tag'];\n\n    let tagRemoveIcon = document.createElement('span');\n    tagRemoveIcon.className = style['tag-remove'];\n\n    tagRemoveIcon.appendChild(document.createTextNode(\"×\"));\n\n    let tagValue = document.createElement('span');\n    tagValue.className = style['tag-value'];\n\n    let value = document.createTextNode(this.value);\n    tagValue.appendChild(value);\n\n    tagWrap.appendChild(tagRemoveIcon);\n    tagWrap.appendChild(tagValue);\n\n    tagRemoveIcon.addEventListener('click', () => {\n      let event = new CustomEvent('edam:' + this.edamId + ':unselect', {\n        detail: this,\n      });\n      document.dispatchEvent(event);\n    });\n\n    if (this.active) {\n      tagWrap.classList.add(style['tag-active']);\n    } else {\n      tagWrap.classList.remove(style['tag-active']);\n    }\n\n    tagValue.addEventListener('click', () => {\n      this.active = !this.active;\n      if (this.active) {\n        tagWrap.classList.add(style['tag-active']);\n      } else {\n        tagWrap.classList.remove(style['tag-active']);\n      }\n\n      let event = new CustomEvent('edam:' + this.edamId + ':filter', {\n        detail: this,\n      });\n      document.dispatchEvent(event);\n    });\n\n\n    return tagWrap;\n  }\n}\n\nclass EdamSelect {\n  static getTermById(type, internalId) {\n    return EDAM.getTermById(type, internalId);\n  }\n\n  constructor(sel, params) {\n    this.id = ++EdamSelect.id;\n\n    if (['format', 'data', 'topic', 'operation'].indexOf(params.type) !== -1) {\n      this.type = params.type;\n    } else {\n      throw new Error(\"Unknown type. Should be one of [ format | data | topic | operation ].\");\n    }\n\n    if (params.initDepth === undefined) {\n      this.initDepth = 1;\n    } else if (params.initDepth === 0) {\n      this.initDepth = +Infinity;\n    } else {\n      this.initDepth = params.initDepth;\n    }\n\n    this.name = params.name || `edam-${this.id}`;\n\n    this.edam = new EDAM(this.type);\n\n    this.spotlight = new Spotlight(this.id);\n\n    this.data = this.edam.data;\n    this.structure = this.edam.structure;\n\n    // this.rootId = this.edam.getRoot();\n    this.root = this.edam.getRoot();\n\n    // this.index = this.edam.index(); // singleton for returning indexes\n    this.dataIndex = this.edam.dataIndex();\n    this.structureIndex = this.edam.structureIndex();\n\n    this.inline = !params.inline; // that's due to...\n    this.opened = params.opened;\n\n    if (!params.inline) {\n      this.opened = false;\n      if (!params.multiselect) {\n        this.closeOnSelect = true;\n      }\n    }\n\n    if (params.closeOnSelect) {\n      this.closeOnSelect = params.closeOnSelect;\n    }\n\n    this.maxHeight = params.maxHeight;\n\n    // new statuses\n    this.selected = false;\n    this.filtered = undefined;\n\n    this.multiselect = params.multiselect;\n    this.checkboxes = params.checkboxes;\n\n    this.focused = 0; // 0 - no; 1 - input; 2 - menu\n\n    let threshold = (params.search && params.search.threshold) || 0.1;\n    let searchKeys = [];\n    if (params.search) {\n      if (params.search.label) {\n        searchKeys.push('2');\n      }\n      if (params.search.synonyms) {\n        searchKeys.push('3');\n      }\n      if (params.search.definitions) {\n        searchKeys.push('4');\n      }\n    } else {\n      searchKeys = ['2', '3', '4'];\n    }\n    DEBUG && console.time('Fuse init');\n    this.fuse = new Fuse(this.data, {\n      keys: searchKeys,\n      shouldSort: true,\n      includeMatches: true,\n      threshold: threshold,\n      location: 0,\n      distance: 100,\n      maxPatternLength: 32,\n      minMatchCharLength: 1\n    });\n    DEBUG && console.timeEnd('Fuse init');\n\n    // Thingie for search debouncing\n    this.timeout = null;\n    // and other stuff for searching\n    this.disclosureResults = [];\n    this.searchResults = [];\n\n    // Another optimisation, we store all model changes here to revert them easily\n    // For now it is enough to store ids, but if something more complex would be required\n    // it could be refactored to Change object\n    this.changed = [];\n    this.treeNodes = {};\n\n    this.selected = [];\n\n    this.el = this.generateEdamSelectView();\n\n    if (typeof sel === 'string') {\n      document.querySelector(sel).appendChild(this.el);\n    } else {\n      sel.appendChild(this.el);\n    }\n\n    if (params.preselected) {\n      params.preselected.forEach((id) => {\n        let term = this.edam.data[this.edam.dataIndex()[id]];\n\n        term.selected = true;\n\n        let tree = { // dummy term\n          id: this.id,\n          struct: [null, null, null, null], // dummy struct\n          term: term,\n          preventFocus: true,\n        };\n\n        let event = new CustomEvent('edam:' + this.id + ':select', {\n          detail: tree,\n        });\n        document.dispatchEvent(event);\n\n      });\n    }\n\n    this.init();\n\n\n  }\n\n  getSubRoot(term) {\n    let relId = term[REL_FID][0]; // get first relation corresp to term - actually there could be more then one\n    let struct = this.structure[this.structureIndex[relId]];\n    let prevStruct = null;\n\n    while (struct[PARENT] !== null) {\n      prevStruct = struct;\n      struct = this.structure[this.structureIndex[struct[PARENT]]];\n    }\n\n    return this.data[this.dataIndex[prevStruct[TERM_FID]]];\n  }\n\n  resetChanges() {\n    let i, l = this.changed.length;\n    for (i = 0; i < l; i += 1) {\n      let relId = this.changed.pop();\n      let rel = this.structure[this.structureIndex[relId]];\n      rel['disclosed'] = undefined;\n      rel['shown'] = undefined;\n    }\n    this.hideLoader();\n  }\n\n  displayNothingFound() {\n    this.el.getElementsByClassName(style['edam-nothing-found'])[0].style.display = 'block';\n  }\n\n  hideNothingFound() {\n    this.el.getElementsByClassName(style['edam-nothing-found'])[0].style.display = 'none';\n  }\n\n  broadcast() {\n    let event = new CustomEvent('edam:change', {\n      detail: {\n        name: this.name,\n        id: this.id,\n        type: this.type,\n        selected: this.selected.map((tag) => {\n          return {\n            subroot: this.getSubRoot(this.edam.data[this.edam.dataIndex()[tag.termId]]),\n            ...this.edam.data[this.edam.dataIndex()[tag.termId]]\n          };\n        })\n      },\n    });\n    document.dispatchEvent(event);\n  }\n\n  getSelected() {\n    return this.selected.map((tag) => {\n      return {\n        subroot: this.getSubRoot(this.edam.data[this.edam.dataIndex()[tag.termId]]),\n        ...this.edam.data[this.edam.dataIndex()[tag.termId]]\n      };\n    })\n  }\n\n  setReset() {\n    if (this.el.getElementsByTagName('input')[0].value.length > 0) {\n      this.setClearStatus('text');\n    } else if (this.filtered !== undefined || this.changed.length > 0 || this.selected.length > 0) {\n      this.setClearStatus('tags');\n    } else {\n      this.setClearStatus('none');\n    }\n  }\n\n  init() {\n    DEBUG && console.time('Tree rendering');\n\n    this.setReset();\n\n    if (this.searchResults.length === 0 && this.filtered !== undefined) {\n      this.displayNothingFound();\n    } else {\n      this.hideNothingFound();\n    }\n\n    if (this.opened) {\n\n      // this.focusMenu();\n\n      let treeMenu = new TreeMenu(this.root, {\n        initDepth: this.initDepth,\n        depth: 0,\n        type: this.type,\n        edam: this.edam,\n        id: this.id,\n        selected: false,\n        searchResults: this.searchResults, // NB! Stores term_ids\n        disclosureResults: this.disclosureResults, // Stores rel_ids!\n        fuseResults: this.fuseResults,\n        spotlight: this.spotlight,\n        treeNodes: this.treeNodes,\n        filtered: this.filtered,\n        multiselect: this.multiselect,\n        checkboxes: this.checkboxes,\n        // changed: this.changed -- no, this is child - parent channel, it should be impl. with events...\n      });\n\n      this.append(treeMenu);\n    } else {\n      let treeMenu = this.el.getElementsByClassName(style['tree-menu'])[0];\n      if (treeMenu) {\n        treeMenu.remove();\n      }\n    }\n\n    if ((this.spotlight.spotlight === undefined || this.filtered) && this.opened) {\n      this.spotlight.setFirstVisible();\n    }\n\n    this.scrollAfterUpDown();\n\n    DEBUG && console.timeEnd('Tree rendering');\n  }\n\n  focusInput() {\n    this.el.getElementsByClassName(style['edam-select-menu'])[0].classList.remove(style['menu-focus']);\n\n    this.el.getElementsByClassName(style['edam-select-container'])[0].classList.add(style['input-focus']);\n    // this.el.getElementsByTagName('input')[0].focus();\n    this.el.getElementsByClassName(style['edam-select-menu'])[0].style.zIndex = 2;\n\n    this.focused = 1;\n  }\n\n  blurInput() {\n    this.el.getElementsByClassName(style['edam-select-container'])[0].classList.remove(style['input-focus']);\n    // this.el.getElementsByTagName('input')[0].blur();\n    this.el.getElementsByClassName(style['edam-select-menu'])[0].style.zIndex = 1;\n    this.focused = 0;\n  }\n\n  focusMenu() {\n    this.el.getElementsByClassName(style['edam-select-container'])[0].classList.remove(style['input-focus']);\n    this.el.getElementsByTagName('input')[0].blur();\n    this.el.getElementsByClassName(style['edam-select-menu'])[0].style.zIndex = 2;\n\n    this.focused = 2;\n\n\n    this.el.getElementsByClassName(style['edam-select-menu'])[0].classList.add(style['menu-focus']);\n  }\n\n  blurMenu() {\n    this.el.getElementsByClassName(style['edam-select-menu'])[0].classList.remove(style['menu-focus']);\n    this.el.getElementsByClassName(style['edam-select-menu'])[0].style.zIndex = 1;\n    this.focused = 0;\n\n    if (this.inline && this.opened && this.focused === 0) {\n      this.el.classList.remove(style['is-open']);\n      this.opened = false;\n      this.init();\n    }\n\n  }\n\n  scrollAfterUpDown() {\n    let element = document.getElementById(this.spotlight.spotlight) && document.getElementById(this.spotlight.spotlight).getElementsByClassName(style['label-wrapper'])[0];\n\n    if (element) {\n\n      if (this.maxHeight) {\n        let wrap = this.el.getElementsByClassName(style['edam-select-menu'])[0];\n        let wrapHeight = wrap.clientHeight;\n        let height = element.getBoundingClientRect().height;\n\n\n        let r1 = (element.offsetTop + height) - (wrap.scrollTop + wrapHeight);\n        let r2 = element.offsetTop - wrap.scrollTop;\n\n        if (r1 >= 0) {\n          wrap.scrollTop += (r1);\n        } else if (r2 < 0) {\n          wrap.scrollTop = element.offsetTop;\n        }\n\n      } else {\n        let rect = element.getBoundingClientRect();\n        let r = window.innerHeight - rect.bottom;\n        if (!(rect.top >= 50)) {\n          window.scroll(0, window.scrollY + rect.top - 50);\n        } else if (!(r - 50 >= 0)) {\n          window.scroll(0, window.scrollY + 50 - r);\n        }\n      }\n\n    }\n  }\n\n  scrollAfterDisclose() {\n    let element = document.getElementById(this.spotlight.spotlight);\n    let childNodes = element.getElementsByClassName(style['tree-menu']);\n\n    if (childNodes.length > 0) {\n      if (this.maxHeight) {\n        let wrap = this.el.getElementsByClassName(style['edam-select-menu'])[0];\n        let wrapHeight = wrap.clientHeight;\n\n        element = childNodes[childNodes.length - 1];\n        let height = element.getBoundingClientRect().height;\n\n        let r = (element.offsetTop + height) - (wrap.scrollTop + wrapHeight);\n\n        if (r >= 0) {\n          wrap.scrollTop += (r);\n        }\n      } else {\n        let rect = childNodes[childNodes.length - 1].getBoundingClientRect();\n        let r = window.innerHeight - rect.bottom;\n        if (!(r - 50 >= 0)) {\n          window.scroll(0, window.scrollY + 50 - r);\n        }\n      }\n      this.scrollAfterUpDown();\n    }\n  }\n\n  triggerOpen() {\n    let event = new CustomEvent('edam:open', {\n      detail: {\n        edamId: this.id,\n      },\n    });\n    document.dispatchEvent(event);\n  }\n\n  open() {\n    this.opened = true;\n    this.el.classList.add(style['is-open']);\n    this.el.getElementsByTagName('input')[0].focus();\n    this.triggerOpen();\n    this.init();\n  }\n\n  generateEdamSelectView() {\n    let edamSelectWrap = document.createElement('div');\n    edamSelectWrap.className = style['edam-select-wrap'];\n    edamSelectWrap.id = 'edam-' + this.id;\n\n    if (this.inline) {\n      edamSelectWrap.classList.add(style['inline']);\n    }\n\n    let edamSelectContainer = document.createElement('div');\n    edamSelectContainer.className = style['edam-select-container'];\n\n    let edamSelectInputWrap = document.createElement('div');\n    edamSelectInputWrap.className = style['edam-select-input-wrap'];\n\n    let edamTagsWrap = document.createElement('span');\n\n    let input = document.createElement('input');\n    input.type = 'text';\n    input.placeholder = 'Search for a term...';\n\n    let edamSelectMenuWrap = document.createElement('div');\n    edamSelectMenuWrap.className = style['edam-select-menu-wrap'];\n\n    let edamSelectMenu = document.createElement('ul');\n    edamSelectMenu.className = style['edam-select-menu'];\n\n    let edamSelectRemoveWrap = document.createElement('div');\n    edamSelectRemoveWrap.className = style['remove-wrap'];\n\n    if (this.maxHeight) {\n      edamSelectMenu.style.maxHeight = this.maxHeight + \"px\";\n      edamSelectMenu.style.overflowY = 'auto';\n    }\n\n    let edamSelectRemove = document.createElement('div');\n    edamSelectRemove.className = style['remove'];\n\n    edamSelectRemove.appendChild(document.createTextNode(\"×\"));\n    edamSelectRemoveWrap.appendChild(edamSelectRemove);\n\n    let edamSelectArrowWrap = document.createElement('div');\n    edamSelectArrowWrap.className = style['edam-select-arrow-wrap'];\n\n    let edamSelectArrow = document.createElement('div');\n    edamSelectArrow.className = style['edam-select-arrow'];\n\n    let edamSelectSpinner = document.createElement('div');\n    edamSelectSpinner.className = style['edam-select-spinner'];\n\n    let edamNothingFound = document.createElement('div');\n    edamNothingFound.className = style['edam-nothing-found'];\n    edamNothingFound.appendChild(document.createTextNode(\"Nothing was found!\"));\n\n    edamSelectArrowWrap.appendChild(edamSelectArrow);\n    edamSelectArrowWrap.appendChild(edamSelectSpinner);\n\n    edamSelectWrap.appendChild(edamSelectContainer);\n    edamSelectWrap.appendChild(edamSelectMenuWrap);\n    edamSelectMenuWrap.appendChild(edamNothingFound);\n\n    edamSelectContainer.appendChild(edamTagsWrap);\n\n    edamSelectContainer.appendChild(edamSelectInputWrap);\n    edamSelectInputWrap.appendChild(input);\n\n    edamSelectContainer.appendChild(edamSelectRemoveWrap);\n\n    edamSelectContainer.appendChild(edamSelectArrowWrap);\n\n\n    edamSelectMenuWrap.appendChild(edamSelectMenu);\n\n    let divForMeasures = document.createElement(\"div\");\n    divForMeasures.className = style['div-for-measures'];\n\n    edamSelectWrap.appendChild(divForMeasures);\n\n    this.showLoader = () => {\n      edamSelectArrow.style.display = 'none';\n      edamSelectSpinner.style.display = 'block';\n    };\n    this.hideLoader = () => {\n      edamSelectArrow.style.display = '';\n      edamSelectSpinner.style.display = 'none';\n    };\n\n    this.setClearStatus = (status) => {\n      if (status === 'none') {\n        edamSelectRemove.classList.remove(style['clear-text']);\n        edamSelectRemove.classList.remove(style['clear-tags']);\n        edamSelectRemove.style.display = 'none';\n      } else if (status === 'text') {\n        edamSelectRemove.classList.remove(style['clear-tags']);\n        edamSelectRemove.classList.add(style['clear-text']);\n        edamSelectRemove.style.display = '';\n      } else if (status === 'tags') {\n        edamSelectRemove.classList.remove(style['clear-text']);\n        edamSelectRemove.classList.add(style['clear-tags']);\n        edamSelectRemove.style.display = '';\n      }\n    };\n\n    edamSelectRemoveWrap.addEventListener('click', () => {\n      if (edamSelectRemove.classList.contains(style['clear-tags'])) {\n        this.filtered = undefined;\n        input.value = '';\n\n        this.selected.forEach((t)=> {\n          this.edam.data[this.edam.dataIndex()[t.termId]].selected = false;\n        });\n        this.selected = [];\n        renderTags();\n\n        this.resetChanges();\n        this.clearSearch();\n\n        this.spotlight.reset();\n\n        this.broadcast();\n        this.init();\n      } else if (edamSelectRemove.classList.contains(style['clear-text'])) {\n        input.value = '';\n        this.filterLogic();\n      }\n    });\n\n\n    if (this.opened) {\n      edamSelectWrap.classList.add(style['is-open']);\n    }\n\n    document.addEventListener('edam:open', (e) => {\n      if (e.detail.edamId !== this.id) {\n        edamSelectWrap.classList.remove(style['is-open']);\n        this.opened = false;\n        // input.blur();\n        this.blurInput();\n        this.blurMenu();\n\n        this.init();\n      }\n    });\n\n    edamSelectContainer.addEventListener('click', (e) => {\n      e.stopPropagation();\n\n\n      if (!this.opened) {\n        this.open();\n      } else {\n        input.focus();\n      }\n    });\n\n    input.addEventListener('focus', (e) => {\n      if (!this.opened) {\n        this.open();\n      }\n      this.focusInput();\n    });\n    input.addEventListener('blur', (e) => {\n      this.blurInput();\n    });\n\n    document.addEventListener('click', (e) => {\n      if (this.focused === 1) {\n        this.blurInput();\n      }\n      this.blurMenu();\n    });\n\n    // event handlers will be here\n    edamSelectArrowWrap.addEventListener('click', (e) => {\n      e.stopPropagation();\n      if (this.opened) {\n        edamSelectWrap.classList.remove(style['is-open']);\n        this.opened = false;\n        // input.blur();\n        this.init();\n        this.focusInput();\n      } else {\n        this.open();\n      }\n      e.preventDefault();\n      return false;\n    });\n\n    edamSelectMenuWrap.addEventListener('mousedown', () => {\n      if (this.focused !== 2) {\n        input.blur();\n        this.focusMenu();\n      }\n    });\n    edamSelectMenuWrap.addEventListener('touchstart', () => {\n      if (this.focused !== 2) {\n        input.blur();\n        this.focusMenu();\n      }\n    }, {\n      passive: true\n    });\n\n    let recalculateInput = () => {\n      let min = divForMeasures.getBoundingClientRect().width + 5 + 3;\n\n      let max = input.parentNode.parentNode.getBoundingClientRect().width -\n        edamSelectArrowWrap.getBoundingClientRect().width -\n        edamSelectRemoveWrap.getBoundingClientRect().width;\n\n      let w = max -\n        edamTagsWrap.getBoundingClientRect().width % max - 5 - 3;\n\n      if (w >= min) {\n        input.style.width = w + 'px';\n      } else if (w >= max - 5 - 3) {\n        input.style.width = (max - 5 - 3) + 'px';\n      } else {\n        input.style.width = min + 'px';\n      }\n\n      if (input.getBoundingClientRect().width < 150) {\n        input.placeholder = 'Search';\n      } else {\n        input.placeholder = 'Search for a term...';\n      }\n    };\n\n    input.addEventListener('input', (e) => {\n      divForMeasures.innerText = e.target.value;\n\n      recalculateInput();\n\n      this.search(e);\n    });\n\n    document.addEventListener(`edam:${this.id}:change`, (e) => {\n      this.changed.push(e.detail);\n\n      DEBUG && console.log(this.changed);\n      this.setReset();\n    });\n\n    document.addEventListener(`edam:${this.id}:status`, (e) => {\n      this.updateStatus();\n    });\n\n    document.addEventListener(`edam:${this.id}:filter`, (e) => {\n      checkIfFilteringIsNeeded();\n    });\n\n    let termIds;\n    let checkIfFilteringIsNeeded = () => {\n      termIds = this.selected.filter((tag)=>{\n        return tag.active;\n      }).map((t) => {return t.termId;});\n\n      if (termIds.length > 0) {\n        this.resetChanges();\n        input.value = '';\n        input.disabled = 'disabled';\n        this.filter(termIds);\n        this.focusMenu();\n      } else {\n        input.disabled = '';\n        this.filterLogic();\n        input.focus();\n        // TODO: method to encapsulate the complex logic in\n      }\n    };\n\n    let renderTags = () => {\n      while (edamTagsWrap.firstChild) {\n        edamTagsWrap.removeChild(edamTagsWrap.firstChild);\n      }\n\n      this.selected.forEach((t) => {\n        edamTagsWrap.appendChild(t.render());\n      });\n    };\n\n\n    let unselect = true;\n    document.addEventListener(`edam:${this.id}:select`, (e) => {\n      let tag = new Tag(e.detail);\n\n      if (!this.multiselect) {\n       if (this.selected.length > 0) {\n         unselect = false;\n         this.selected.forEach((tag)=>{\n           let event = new CustomEvent('edam:' + this.id + ':unselect', {\n             detail: tag,\n           });\n           document.dispatchEvent(event);\n           this.edam.data[this.edam.dataIndex()[tag.termId]].selected = false;\n         });\n         this.selected = [];\n        unselect = true;\n       }\n      }\n\n      if (this.selected.findIndex(t => tag.termId === t.termId) === -1) {\n        this.selected.push(tag);\n        renderTags();\n      }\n\n      this.setReset();\n      recalculateInput();\n\n      this.broadcast();\n\n      if (this.closeOnSelect) {\n        input.value = '';\n        this.filterLogic(true);\n        edamSelectWrap.classList.remove(style['is-open']);\n        this.opened = false;\n        this.init();\n\n\n        if (e.detail.preventFocus) {\n          // do nothing\n        } else {\n          this.focusInput();\n        }\n      }\n    });\n\n    window.addEventListener('resize', () => {\n      recalculateInput();\n    });\n\n    document.addEventListener(`edam:${this.id}:unselect`, (e) => {\n      if (unselect) {\n        this.selected = this.selected.filter((t) => {\n          return t.termId !== e.detail.termId;\n        });\n\n        this.edam.data[this.edam.dataIndex()[e.detail.termId]].selected = false;\n\n        // if (e.detail.active) {\n        checkIfFilteringIsNeeded();\n        // }\n\n        renderTags();\n        recalculateInput();\n\n        this.broadcast();\n      }\n\n      // this.checkMultiselect();\n    });\n\n\n    document.addEventListener('keydown', (e) => {\n      if (this.focused) {\n        if (e.keyCode === 40) { // down\n          if (this.opened) {\n            if (this.focused) {\n              e.preventDefault();\n              input.blur();\n              this.focusMenu();\n              this.spotlight.next();\n\n              this.scrollAfterUpDown();\n            }\n          }\n        } else if (e.keyCode === 38) { // up\n          if (this.opened) {\n            if (this.focused) {\n              e.preventDefault();\n              input.blur();\n              this.focusMenu();\n              this.spotlight.prev();\n\n              this.scrollAfterUpDown();\n            }\n          }\n        } else if (e.keyCode === 39) { // right\n          if (this.focused === 2) {\n            e.preventDefault();\n            if (!this.treeNodes[this.spotlight.spotlight].isDisclosed()) {\n              this.treeNodes[this.spotlight.spotlight].disclose();\n\n              this.scrollAfterDisclose();\n            }\n          }\n        } else if (e.keyCode === 37) { // left 37\n          if (this.focused === 2) {\n            e.preventDefault();\n            if (this.treeNodes[this.spotlight.spotlight].isDisclosed()) {\n              this.treeNodes[this.spotlight.spotlight].disclose();\n            }\n          }\n        } else if (e.keyCode === 32 || e.keyCode === 13) { // space or return\n          if (this.focused === 2 || input.value.length === 0) {\n            e.preventDefault();\n            let treeMenu = this.treeNodes[this.spotlight.spotlight];\n            if (!treeMenu.selected) {\n              treeMenu.triggerSelect();\n            } else {\n              let event = new CustomEvent('edam:' + this.id + ':unselect', {\n                detail: new Tag(treeMenu),\n              });\n              document.dispatchEvent(event);\n            }\n          }\n        } else if (e.keyCode === 8) { // backspace\n          input.focus();\n          if (input.value.length === 0) {\n            let tag = this.selected.pop();\n            if (tag) {\n              let event = new CustomEvent('edam:' + this.id + ':unselect', {\n                detail: tag,\n              });\n              document.dispatchEvent(event);\n            }\n          }\n        } else if (e.keyCode === 9) { // tab\n          if (this.focused === 1) {\n            if (this.opened) {\n              e.preventDefault();\n              this.focusMenu();\n            } else {\n              e.preventDefault();\n              this.open();\n              this.focusMenu();\n            }\n          } else if (this.focused === 2) {\n            this.blurMenu();\n          }\n        } else if (e.keyCode === 27) { // esc\n          if (this.focused === 1) {\n            input.blur();\n            if (this.inline) {\n              this.blurMenu();\n            }\n          } else if (this.focused === 2) {\n            input.focus();\n          }\n\n          // think what to do\n        } else {\n          input.focus();\n        }\n      }\n    });\n\n    this.filterLogic = (preventReset) => {\n      if (this.searchResults.length === 0) {\n        if (input.value.length === 0) {\n          this.filtered = undefined;\n        } else {\n          this.filtered = false;\n        }\n      } else {\n          if (input.value.length > 0 || (termIds && termIds.length > 0)) {\n            this.filtered = true;\n          } else {\n            this.filtered = false;\n          }\n        }\n\n      this.hideLoader();\n      if (!preventReset) {\n        this.resetChanges();\n      }\n      this.init();\n    };\n\n    return edamSelectWrap;\n  }\n\n  search(e) {\n    this.showLoader();\n    if (e.target.value.length > 0) {\n      this.setClearStatus('text');\n      this.searchForReal(e);\n    } else {\n      clearTimeout(this.timeout);\n      // this.clearSearch();\n      // this.resetChanges();\n      this.filterLogic();\n    }\n  }\n\n  // checkMultiselect() {\n    // if (!this.multiselect) {\n    //   if (this.selected.length > 0) {\n    //\n    //\n    //     this.el.classList.remove(style['is-open']);\n    //     this.opened = false;\n    //     this.el.getElementsByTagName('input')[0].blur();\n    //     this.init();\n    //\n    //   } else {\n    //     this.el.classList.add(style['is-open']);\n    //     this.opened = true;\n    //     this.el.getElementsByTagName('input')[0].focus();\n    //     this.init();\n    //   }\n    // }\n  // }\n\n  clearSearch() {\n    this.searchResults = [];\n    this.disclosureResults = [];\n    this.fuseResults = [];\n  }\n\n  destroy() {\n    // TODO: remove listeners\n    // delete nodes\n  }\n\n  searchForReal(e) {\n    clearTimeout(this.timeout);\n    this.timeout = setTimeout(() => {\n      DEBUG && console.time('Search');\n      this.disclosureResults = [];\n      this.searchResults = [];\n\n      this.fuseResults = this.fuse.search(e.target.value);\n\n      this.fuseResults.forEach((result) => {\n\n        this.searchResults.push(result.item[TERM_PID]);\n        this.disclosureResults.push(...this.addAncestors(result.item[REL_FID]));\n      });\n\n      this.disclosureResults = [...new Set(this.disclosureResults)];\n\n      DEBUG && console.log(this.fuseResults);\n      DEBUG && console.log(this.searchResults);\n      DEBUG && console.log(this.disclosureResults);\n\n      let event = new Event('edam:' + this.id + ':status');\n      document.dispatchEvent(event);\n\n      DEBUG && console.timeEnd('Search');\n    }, 500);\n  }\n\n  filter(termIds) {\n    this.searchResults = termIds;\n    this.disclosureResults = [];\n    this.fuseResults = [];\n\n    for (let i = 0; i < termIds.length; i += 1) {\n      let rels = this.data[this.dataIndex[termIds[i]]][REL_FID];\n      this.disclosureResults.push(...this.addAncestors(rels));\n    }\n\n    this.disclosureResults = [...new Set(this.disclosureResults)];\n\n    DEBUG && console.log(this.searchResults);\n    DEBUG && console.log(this.disclosureResults);\n\n    let event = new Event('edam:' + this.id + ':status');\n    document.dispatchEvent(event);\n\n  }\n\n  updateStatus() {\n    this.filterLogic();\n  }\n\n  addAncestors(foundRels) {\n    let ancestors = [];\n\n    let i, l = foundRels.length;\n    for (i = 0; i < l; i += 1) {\n\n      let idx = this.structureIndex[foundRels[i]];\n      let rel = this.structure[idx];\n\n\n      while (rel[PARENT] !== null) {\n        ancestors.push(rel[PARENT]);\n\n        idx = this.structureIndex[rel[PARENT]];\n        rel = this.structure[idx];\n      }\n\n    }\n\n    return ancestors;\n  }\n\n  append(newTree) {\n    let wrap = this.el.getElementsByClassName(style['edam-select-menu'])[0];\n    let currentTree = wrap.firstChild;\n\n    if (currentTree) {\n      wrap.replaceChild(newTree, currentTree);\n    } else {\n      wrap.appendChild(newTree);\n    }\n  }\n}\n\nEdamSelect.id = 0;\n\nclass TreeMenu {\n  constructor(struct, params) {\n\n    this.initDepth = params.initDepth;\n    this.depth = params.depth;\n    this.type = params.type;\n    this.edam = params.edam;\n    this.id = params.id;\n    this.disclosureResults = params.disclosureResults;\n    this.searchResults = params.searchResults;\n    this.fuseResults = params.fuseResults;\n    this.spotlight = params.spotlight;\n    this.treeNodes = params.treeNodes;\n\n    this.checkboxes = params.checkboxes;\n\n    this.filtered = params.filtered;\n\n    this.struct = struct;\n\n    this.term = this.edam.data[this.edam.dataIndex()[this.struct[TERM_FID]]];\n\n    this.selected = this.term['selected'];\n\n    this.multiselect = params.multiselect;\n\n    this.el = this.generateEdamSelectMenuItemView();\n    return this.el;\n  }\n\n  triggerChangeEvent(rel_pid) {\n    if (rel_pid) {\n      rel_pid = rel_pid;\n    } else {\n      rel_pid = this.struct[REL_PID];\n    }\n    let event = new CustomEvent('edam:' + this.id + ':change', {\n      detail: rel_pid\n    });\n    document.dispatchEvent(event);\n  }\n\n  triggerInit() {\n    let event = new CustomEvent('edam:' + this.id + ':init', {\n      detail: this,\n    });\n    document.dispatchEvent(event);\n  }\n\n  triggerSelect() {\n    let event = new CustomEvent('edam:' + this.id + ':select', {\n      detail: this,\n    });\n    document.dispatchEvent(event);\n  }\n\n  generateEdamSelectMenuItemView() {\n    let treeMenu = document.createElement('li');\n    treeMenu.className = style['tree-menu'];\n\n    let id = 'edam-term-' + this.id + '-' + this.struct[REL_PID];\n\n    treeMenu.id = id;\n    // not id because terms could be found in several places\n    // okay, now it IS id, because we used depth trick to make it unique!\n\n    this.unselect = (e) => {\n      if (e.detail.termId === this.term[TERM_PID]) {\n        this._unselect();\n      }\n    };\n\n    this.select = (e) => {\n      if (e.detail.term === this.term) {\n        this._select();\n      }\n    };\n\n    document.addEventListener(`edam:${this.id}:select`, this.select);\n    document.addEventListener(`edam:${this.id}:unselect`, this.unselect);\n\n\n    let children = this.getChildren();\n\n    if (this.depth > 0) {\n      let labelWrapper = document.createElement('div');\n      labelWrapper.className = style['label-wrapper'];\n\n      if (this.spotlight.getSpotlightId() === id) {\n        labelWrapper.classList.add(style['spotlight']);\n      }\n\n      let labelIndent = document.createElement('div');\n      labelIndent.className = style['label-indent'];\n\n      let triangleWrap = document.createElement('span');\n      triangleWrap.className = style['triangle-wrap'];\n\n      let triangle = document.createElement('i');\n      triangle.className = style['triangle'];\n\n      let term = document.createElement('span');\n      term.className = style['term'];\n\n      let info = document.createElement('div');\n      info.className = style['info'];\n\n      treeMenu.appendChild(labelWrapper);\n      labelWrapper.appendChild(labelIndent);\n\n      labelIndent.appendChild(triangleWrap);\n      labelIndent.appendChild(term);\n      labelIndent.appendChild(info);\n\n      let checkbox;\n      if (this.checkboxes) {\n        checkbox = document.createElement('input');\n        if (this.multiselect) {\n          checkbox.type = 'checkbox';\n        } else {\n          checkbox.type = 'radio';\n        }\n        checkbox.className = style['checkbox'];\n        checkbox.tabIndex = -1;\n\n        info.style.display = 'none';\n\n        labelIndent.appendChild(checkbox);\n      }\n\n      triangleWrap.appendChild(triangle);\n\n      let text = document.createTextNode(this.term[LABEL]);\n      term.appendChild(text);\n\n      let showDetails = () => {\n        let details = labelWrapper.getElementsByClassName(style['details'])[0];\n        if (details) {\n          details.remove();\n        } else {\n          details = document.createElement('div');\n          details.className = style['details'];\n\n          details.addEventListener('click', (e) => {\n            e.stopPropagation();\n          });\n\n          let i, l = this.term[DEFINITIONS].length;\n          if (l > 0) {\n            let definitionsTitle = document.createElement('div');\n            definitionsTitle.className = style['title'];\n            let definitionsTitleText = document.createTextNode(\"Definitions:\");\n            definitionsTitle.appendChild(definitionsTitleText);\n            let definitionsWrap = document.createElement('div');\n            definitionsWrap.className = style['definitions'];\n            for (i = 0; i < l; i += 1) {\n              let definitionmItem = document.createElement('div');\n              let definitionText = document.createTextNode(this.term[DEFINITIONS][i]);\n              definitionmItem.appendChild(definitionText);\n              definitionsWrap.appendChild(definitionmItem);\n            }\n            details.appendChild(definitionsTitle);\n            details.appendChild(definitionsWrap);\n          }\n\n\n          l = this.term[SYNONYMS].length;\n          if (l > 0) {\n            let synonymsWrap = document.createElement('ul');\n            let synonymsTitle = document.createElement('div');\n            synonymsTitle.className = style['title'];\n            let synonymsTitleText = document.createTextNode(\"Synonyms:\");\n            synonymsTitle.appendChild(synonymsTitleText);\n            for (i = 0; i < l; i += 1) {\n              let synonymItem = document.createElement('li');\n              let synonymText = document.createTextNode(this.term[SYNONYMS][i]);\n              synonymItem.appendChild(synonymText);\n              synonymsWrap.appendChild(synonymItem);\n            }\n            details.appendChild(synonymsTitle);\n            details.appendChild(synonymsWrap);\n          }\n\n          let linkTitle = document.createElement('p');\n          linkTitle.className = style['title'];\n          let linkTitleText = document.createTextNode(\"URL:\");\n          linkTitle.appendChild(linkTitleText);\n          let link = document.createElement('a');\n          let url = `http://edamontology.org/${this.type}_${this.term[IRI]}`;\n          let linkText = document.createTextNode(url);\n          link.appendChild(linkText);\n          link.href = url;\n          link.target = '_blank';\n          details.appendChild(linkTitle);\n          details.appendChild(link);\n\n          labelIndent.appendChild(details);\n\n          setTimeout(() => {\n            details.classList.add(style['show']);\n          }, 10);\n        }\n      };\n\n      if (this.term['selected']) {\n        term.classList.add(style['selected']);\n        if (this.checkboxes) {\n          checkbox.checked = true;\n        }\n      }\n\n      labelWrapper.addEventListener('mouseover', () => {\n        // labelWrapper.classList.add(style['spotlight']);\n        this.spotlight.setSpotlight(id);\n      });\n\n      if (this.checkboxes) {\n        labelWrapper.addEventListener('dblclick', (e) => {\n          e.stopPropagation();\n          let details = labelWrapper.getElementsByClassName(style['details'])[0];\n          if (details) {\n            details.remove();\n          }\n          if (!this.term.selected) {\n            this.triggerSelect();\n          } else {\n            let event = new CustomEvent('edam:' + this.id + ':unselect', {\n              detail: new Tag(this),\n            });\n            document.dispatchEvent(event);\n          }\n        });\n\n        labelWrapper.addEventListener('click', (e) => {\n          e.stopPropagation();\n          showDetails();\n        });\n\n        if (!this.multiselect) {\n          checkbox.addEventListener('click', (e) => {\n            e.stopPropagation();\n            if (!this.term.selected) {\n              this.triggerSelect();\n            } else {\n              let event = new CustomEvent('edam:' + this.id + ':unselect', {\n                detail: new Tag(this),\n              });\n              document.dispatchEvent(event);\n            }\n          });\n        } else {\n          checkbox.addEventListener('click', (e) => {\n            e.stopPropagation();\n          });\n          checkbox.addEventListener('change', (e) => {\n            e.stopPropagation();\n            if (!this.term.selected) {\n              this.triggerSelect();\n            } else {\n              let event = new CustomEvent('edam:' + this.id + ':unselect', {\n                detail: new Tag(this),\n              });\n              document.dispatchEvent(event);\n            }\n          });\n        }\n      } else {\n        labelWrapper.addEventListener('click', (e) => {\n          // labelWrapper.classList.add(style['spotlight']);\n          e.stopPropagation();\n          e.preventDefault();\n          if (!this.term.selected) {\n            this.triggerSelect();\n          } else {\n            let event = new CustomEvent('edam:' + this.id + ':unselect', {\n              detail: new Tag(this),\n            });\n            document.dispatchEvent(event);\n          }\n        });\n\n        info.addEventListener('click', (e) => {\n          e.stopPropagation();\n          showDetails();\n        });\n      }\n\n      triangleWrap.addEventListener('click', (e) => {\n        e.stopPropagation();\n        this.disclose();\n      });\n\n      // styles go here for the same reason\n      labelIndent.style.marginLeft = (this.depth - 0.5) + 'em';\n\n      if (children.length === 0) {\n        triangleWrap.style.visibility = 'hidden';\n      }\n\n      if (this.isDisclosed()) {\n        triangle.classList.add(style['opened']);\n      }\n\n      let whereInSearchResults = this.whereInSearchResults();\n      if (whereInSearchResults > -1 && this.fuseResults.length > 0) {\n\n        labelIndent.classList.add(style['highlighted']);\n        labelWrapper.classList.add(style['highlighted']);\n\n        let i, l = this.fuseResults[whereInSearchResults].matches.length;\n        let j, ll, start, end, innerHTML;\n        let found = false;\n        for (i = 0; i < l; i += 1) {\n\n          if (this.fuseResults[whereInSearchResults].matches[i].key === \"2\") {\n\n            ll = this.fuseResults[whereInSearchResults].matches[i].indices.length;\n\n            let temp = this.term[LABEL];\n            let k = 0;\n\n            for (j = 0; j < ll; j += 1) {\n\n              start = this.fuseResults[whereInSearchResults].matches[i].indices[j][0];\n              end = this.fuseResults[whereInSearchResults].matches[i].indices[j][1];\n\n              if (end - start > 0) {\n                temp = temp.substring(0, start + 17 * k) +\n                  \"<strong>\" + temp.substring(start + 17 * k, end + 1 + 17 * k) + \"</strong>\" +\n                  temp.substring(end + 1 + 17 * k, temp.length);\n\n                k += 1;\n                found = true;\n              }\n              term.innerHTML = temp;\n            }\n          } else if (this.fuseResults[whereInSearchResults].matches[i].key === \"3\" && !found) {\n            let bySynonyms = term.getElementsByClassName(style[\"by\"]);\n            if (bySynonyms.length === 0) {\n              let span = document.createElement(\"span\");\n              span.className = style[\"by\"];\n              let spanText = document.createTextNode(\"(by synonyms)\");\n              span.appendChild(spanText);\n              term.appendChild(span);\n            }\n          } else if (this.fuseResults[whereInSearchResults].matches[i].key === \"4\" && !found) {\n            let bySynonyms = term.getElementsByClassName(style[\"by\"]);\n            if (bySynonyms.length > 0) {\n              let span = document.createElement(\"span\");\n              span.className = style[\"by\"];\n              let spanText = document.createTextNode(\"(by synonyms and definitions)\");\n              span.appendChild(spanText);\n              term.replaceChild(span, bySynonyms[0]);\n            } else {\n              let span = document.createElement(\"span\");\n              span.className = style[\"by\"];\n              let spanText = document.createTextNode(\"(by definitions)\");\n              span.appendChild(spanText);\n              term.appendChild(span);\n            }\n          }\n        }\n      } else {\n        labelIndent.classList.remove(style['highlighted']);\n        labelWrapper.classList.remove(style['highlighted']);\n      }\n\n    }\n\n    let ul = document.createElement('ul');\n    treeMenu.appendChild(ul);\n\n    if (this.isDisclosed()) {\n      children.forEach((rel) => {\n        ul.appendChild(new TreeMenu(rel, {\n          initDepth: this.initDepth,\n          depth: this.depth + 1,\n          type: this.type,\n          edam: this.edam,\n          id: this.id,\n          selected: this.selected,\n          searchResults: this.searchResults,\n          disclosureResults: this.disclosureResults,\n          fuseResults: this.fuseResults,\n          spotlight: this.spotlight,\n          treeNodes: this.treeNodes,\n          filtered: this.filtered,\n          multiselect: this.multiselect,\n          checkboxes: this.checkboxes,\n        }));\n      });\n    }\n\n    if (this.isShown()) {\n      treeMenu.style.display = '';\n    } else {\n      treeMenu.style.display = 'none';\n    }\n\n    this.treeNodes[id] = this;\n\n    // this.triggerInit();\n    return treeMenu;\n  }\n\n  getChildren() {\n    return this.struct[CHILDREN].map(id => this.edam.getById(id)).sort((a, b) => {\n      let ta = this.edam.termByRel(a);\n      let tb = this.edam.termByRel(b);\n      if (ta[LABEL] > tb[LABEL]) { // ah yes, need to sort it...\n        return 1;\n      } else if (ta[LABEL] < tb[LABEL]) {\n        return -1;\n      } else {\n        return 0;\n      }\n    });\n  }\n\n  isShown() {\n    if (this.filtered) {\n      if (this.struct['shown'] === undefined) {\n        return this.isInDisclosureResults() || (this.whereInSearchResults() > -1);\n      } else {\n        return this.struct['shown'];\n      }\n    } else {\n      return true;\n    }\n  }\n\n  isDisclosed() {\n    if (this.filtered === undefined) {\n      if (this.struct['disclosed'] === undefined) {\n        return this.depth < this.initDepth;\n      } else {\n        return this.struct['disclosed'];\n      }\n    } else {\n      if (this.filtered) {\n        if (this.struct['disclosed'] === undefined) {\n          return this.isInDisclosureResults();\n        } else {\n          return this.struct['disclosed'];\n        }\n      } else {\n\n        if (this.struct['disclosed'] === undefined) {\n          return this.isInDisclosureResults() || (this.depth < this.initDepth);\n        } else {\n          return this.struct['disclosed'];\n        }\n\n\n        // if (this.struct['disclosed'] === undefined) {\n        //   return this.isInDisclosureResults();\n        // } else {\n        //   return this.struct['disclosed'];\n        // }\n      }\n    }\n  }\n\n  destroy() {\n    document.removeEventListener(`edam:${this.id}:select`, this.select);\n    document.removeEventListener(`edam:${this.id}:unselect`, this.unselect);\n  }\n\n\n  _select() {\n    this.term['selected'] = true;\n    this.selected = true;\n\n    this.el.getElementsByClassName(style['term'])[0].classList.add(style['selected']);\n\n    if (this.checkboxes) {\n      this.el.getElementsByTagName('input')[0].checked = true;\n    }\n\n  }\n\n  _unselect() {\n    this.term['selected'] = false;\n    this.selected = false;\n\n    this.el.getElementsByClassName(style['term'])[0].classList.remove(style['selected']);\n\n    if (this.checkboxes) {\n      this.el.getElementsByTagName('input')[0].checked = false;\n    }\n\n  }\n\n  disclose() {\n    DEBUG && console.time('Disclose');\n\n    this.triggerChangeEvent();\n\n    if (this.isDisclosed()) {\n      this.struct['disclosed'] = false;\n    } else {\n      this.struct['disclosed'] = true;\n\n      let i, l = this.struct[CHILDREN].length; // children\n      for (i = 0; i < l; i += 1) {\n        this.edam.structure[this.edam.structureIndex()[this.struct[CHILDREN][i]]]['shown'] = true;\n        this.triggerChangeEvent(this.struct[CHILDREN][i]);\n      }\n    }\n\n    let newTree = new TreeMenu(this.struct, {\n      initDepth: this.initDepth,\n      depth: this.depth,\n      type: this.type,\n      edam: this.edam,\n      id: this.id,\n      selected: false,\n      searchResults: this.searchResults,\n      disclosureResults: this.disclosureResults,\n      fuseResults: this.fuseResults,\n      spotlight: this.spotlight,\n      treeNodes: this.treeNodes,\n      filtered: this.filtered,\n      multiselect: this.multiselect,\n      checkboxes: this.checkboxes,\n    });\n\n    this.el.parentNode.replaceChild(newTree, this.el);\n\n    // newTree.lastChild.scrollIntoView();\n\n    this.destroy();\n\n    DEBUG && console.timeEnd('Disclose');\n  }\n\n  isInDisclosureResults() {\n    return this.disclosureResults.indexOf(this.struct[REL_PID]) !== -1;\n  }\n\n  whereInSearchResults() {\n    return this.searchResults.indexOf(this.struct[TERM_FID]);\n  }\n\n  remove() {\n    this.el.remove();\n  }\n}\n\nlet root = typeof self == 'object' && self.self === self && self ||\n  typeof global == 'object' && global.global === global && global ||\n  this ||\n  {};\n\nif (typeof exports != 'undefined' && !exports.nodeType) {\n  if (typeof module != 'undefined' && !module.nodeType && module.exports) {\n    exports = module.exports = _;\n  }\n  exports.EdamSelect = EdamSelect;\n} else {\n  root.EdamSelect = EdamSelect;\n}\n\nif (typeof define == 'function' && define.amd) {\n  define('EdamSelect', [], function() {\n    return EdamSelect;\n  });\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","exports = module.exports = require(\"../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"@-moz-keyframes MXcLyJig2pSmdGmEB-UoN{from{-moz-transform:rotate(0deg)}to{-moz-transform:rotate(360deg)}}@-webkit-keyframes MXcLyJig2pSmdGmEB-UoN{from{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(360deg)}}@keyframes MXcLyJig2pSmdGmEB-UoN{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}.aKyVE7MTXDoJMh6EtWIUB{color:lightgrey;position:absolute;top:10px}._3MEaA3SCosSupBdcxxh1Zw{background-color:grey;width:100px;height:100px}._3Obp74y3gkjxil5LpBT7Ue ._1fe6wqB9-XnKWFPRfiscVx{position:absolute;right:-95px;margin-top:-17px;display:block;width:16px;height:16px;padding-right:100px;padding-left:3px;background-image:url(\\\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDUxMiA1MTIiPgoJPHBhdGggZmlsbD0iY3VycmVudENvbG9yIiBkPSJNMjU2IDQwYzExOC42MjEgMCAyMTYgOTYuMDc1IDIxNiAyMTYgMCAxMTkuMjkxLTk2LjYxIDIxNi0yMTYgMjE2LTExOS4yNDQgMC0yMTYtOTYuNTYyLTIxNi0yMTYgMC0xMTkuMjAzIDk2LjYwMi0yMTYgMjE2LTIxNm0wLTMyQzExOS4wNDMgOCA4IDExOS4wODMgOCAyNTZjMCAxMzYuOTk3IDExMS4wNDMgMjQ4IDI0OCAyNDhzMjQ4LTExMS4wMDMgMjQ4LTI0OEM1MDQgMTE5LjA4MyAzOTIuOTU3IDggMjU2IDh6bS0zNiAzNDRoMTJWMjMyaC0xMmMtNi42MjcgMC0xMi01LjM3My0xMi0xMnYtOGMwLTYuNjI3IDUuMzczLTEyIDEyLTEyaDQ4YzYuNjI3IDAgMTIgNS4zNzMgMTIgMTJ2MTQwaDEyYzYuNjI3IDAgMTIgNS4zNzMgMTIgMTJ2OGMwIDYuNjI3LTUuMzczIDEyLTEyIDEyaC03MmMtNi42MjcgMC0xMi01LjM3My0xMi0xMnYtOGMwLTYuNjI3IDUuMzczLTEyIDEyLTEyem0zNi0yNDBjLTE3LjY3MyAwLTMyIDE0LjMyNy0zMiAzMnMxNC4zMjcgMzIgMzIgMzIgMzItMTQuMzI3IDMyLTMyLTE0LjMyNy0zMi0zMi0zMnoiPgoJPC9wYXRoPgo8L3N2Zz4K\\\");background-size:auto 100%;background-repeat:no-repeat;opacity:0.5;cursor:pointer}._3Obp74y3gkjxil5LpBT7Ue ._1fe6wqB9-XnKWFPRfiscVx:hover{opacity:0.9;transition:opacity 200ms}._1Xt7E1ZNKkTMZSGTqbzYm5{width:auto;display:inline-block;visibility:hidden;position:fixed;top:-100px;overflow:auto;min-width:42px}._1hhNgzmISH4LID72hxkUi4 ._2s2Nw3bi0TJ-VvJAt38T35{position:absolute;width:100%}._107PeYXyGxoNiSLg9IztvK *{box-sizing:content-box}._107PeYXyGxoNiSLg9IztvK{position:relative;width:100%;font-size:1em}._107PeYXyGxoNiSLg9IztvK ul,._107PeYXyGxoNiSLg9IztvK li{margin:0;padding:0;list-style-type:none}._107PeYXyGxoNiSLg9IztvK ._1x0m-ywfNzF6jpt6J9pKG-{display:inline}._107PeYXyGxoNiSLg9IztvK ._1xY9lJ3hUyeKR3sfytTOWI{color:#007eff;border:1px solid;border-color:rgba(0,126,255,0.24);border-radius:2px;background-color:rgba(0,126,255,0.08);display:inline-block;font-size:0.8em;line-height:1.4;margin-left:5px;margin-top:5px;vertical-align:top}._107PeYXyGxoNiSLg9IztvK ._1xY9lJ3hUyeKR3sfytTOWI span:first-child{cursor:pointer;border-right:1px solid rgba(0,126,255,0.24);padding:1px 5px 3px;display:inline-block;vertical-align:middle}._107PeYXyGxoNiSLg9IztvK ._1xY9lJ3hUyeKR3sfytTOWI span:last-child{padding:2px 5px;display:inline-block;vertical-align:middle;cursor:pointer}._107PeYXyGxoNiSLg9IztvK ._3MMvtEwX_ixysnCDUGuJ8b{background-color:#0071e6;color:#d8eafd}._107PeYXyGxoNiSLg9IztvK ._3MMvtEwX_ixysnCDUGuJ8b span:first-child{border-right:1px solid #d8eafd}._107PeYXyGxoNiSLg9IztvK ._2KrJlaY3EbVn4yztJ82K09{width:17px;cursor:pointer;display:table-cell;position:relative;text-align:center;vertical-align:middle}._107PeYXyGxoNiSLg9IztvK ._39OTdRHR_U0nnjVQ93ugDu{display:inline-block;font-size:18px;line-height:1}._107PeYXyGxoNiSLg9IztvK ._39OTdRHR_U0nnjVQ93ugDu._5d8D0LG_Tc6KIeCNlhISs{color:#999}._107PeYXyGxoNiSLg9IztvK ._39OTdRHR_U0nnjVQ93ugDu._5d8D0LG_Tc6KIeCNlhISs:hover{color:#666}._107PeYXyGxoNiSLg9IztvK ._39OTdRHR_U0nnjVQ93ugDu._1KtRDTNBUwJYqgpoGOW3jU{color:#D0021B}._107PeYXyGxoNiSLg9IztvK ._39OTdRHR_U0nnjVQ93ugDu._1KtRDTNBUwJYqgpoGOW3jU:hover{font-weight:bold}._107PeYXyGxoNiSLg9IztvK._2QjYwKOyTjSGoZWFb2_bHF>._3lNi86HlPNjPtXgDNF-WFo{border-bottom-left-radius:0;border-bottom-right-radius:0}._107PeYXyGxoNiSLg9IztvK:not(._2QjYwKOyTjSGoZWFb2_bHF) ._2s2Nw3bi0TJ-VvJAt38T35{display:none}._107PeYXyGxoNiSLg9IztvK:not(._2QjYwKOyTjSGoZWFb2_bHF) ._137VoNJ9DRrnXs3uN00iv5{border-color:#999 transparent transparent;border-style:solid;border-top-width:5px;border-left-width:5px;border-right-width:5px;border-bottom-width:2.5px;display:inline-block;height:0;width:0;position:relative}._107PeYXyGxoNiSLg9IztvK._2QjYwKOyTjSGoZWFb2_bHF ._137VoNJ9DRrnXs3uN00iv5{border-color:transparent transparent #999;border-style:solid;border-top-width:2.5px;border-left-width:5px;border-right-width:5px;border-bottom-width:5px;display:inline-block;height:0;width:0;position:relative;top:-2.5px}._107PeYXyGxoNiSLg9IztvK ._1ImOSTUEJtvO4GfL5HawIH{position:relative;left:2px;border:2px solid #cccccc;border-radius:50%;border-top:2px solid #3498db;width:12px;height:12px;margin:0 auto;-webkit-animation:MXcLyJig2pSmdGmEB-UoN 500ms linear infinite;animation:MXcLyJig2pSmdGmEB-UoN 500ms linear infinite;display:none}._107PeYXyGxoNiSLg9IztvK:not(._2QjYwKOyTjSGoZWFb2_bHF) ._3nlRYSUshSs-IySPiE442A:hover ._137VoNJ9DRrnXs3uN00iv5{border-top-color:#666}._107PeYXyGxoNiSLg9IztvK._2QjYwKOyTjSGoZWFb2_bHF ._3nlRYSUshSs-IySPiE442A:hover ._137VoNJ9DRrnXs3uN00iv5{border-bottom-color:#666}._107PeYXyGxoNiSLg9IztvK._1JWoYfvOa5Jykb-H305Hjb:not(._2QjYwKOyTjSGoZWFb2_bHF)>._3lNi86HlPNjPtXgDNF-WFo{border-color:#007eff;box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 0 3px rgba(0,126,255,0.1)}._107PeYXyGxoNiSLg9IztvK ._3lNi86HlPNjPtXgDNF-WFo._2F9EVJCAaqCOL0fCcpGUQl{box-shadow:0 0 10px #9ecaed;border-color:#9ecaed}._107PeYXyGxoNiSLg9IztvK ul._2JepLUCwJh0oetVubirkia._1EvTw9pjcu6LFNNGbbRVcS{box-shadow:0 0 10px #9ecaed;border-right-color:#9ecaed;border-left-color:#9ecaed;border-bottom-color:#9ecaed}._107PeYXyGxoNiSLg9IztvK ._3lNi86HlPNjPtXgDNF-WFo{border:1px solid #ccc;border-radius:4px;border-color:#d9d9d9 #ccc #b3b3b3;cursor:text;background-color:#fff;color:#333;height:1em;width:100%;display:table}._107PeYXyGxoNiSLg9IztvK ._3lNi86HlPNjPtXgDNF-WFo ._3nlRYSUshSs-IySPiE442A{cursor:pointer;display:table-cell;position:relative;text-align:center;vertical-align:middle;width:25px;padding-right:5px}._107PeYXyGxoNiSLg9IztvK ._3lNi86HlPNjPtXgDNF-WFo .pBflM0Pz_jrvTc4loSYvJ{display:inline-block;margin-left:5px;padding:0;vertical-align:middle;padding-bottom:0.4em}._107PeYXyGxoNiSLg9IztvK ._3lNi86HlPNjPtXgDNF-WFo .pBflM0Pz_jrvTc4loSYvJ input{border-style:none;border:0;outline-style:none;font-size:inherit;line-height:1;padding:0;padding-top:0.5em;width:150px}._107PeYXyGxoNiSLg9IztvK ._3lNi86HlPNjPtXgDNF-WFo .pBflM0Pz_jrvTc4loSYvJ input::-webkit-input-placeholder{color:#999}._107PeYXyGxoNiSLg9IztvK ._3lNi86HlPNjPtXgDNF-WFo .pBflM0Pz_jrvTc4loSYvJ input:-moz-placeholder{color:#999}._107PeYXyGxoNiSLg9IztvK ._3lNi86HlPNjPtXgDNF-WFo .pBflM0Pz_jrvTc4loSYvJ input::-moz-placeholder{color:#999}._107PeYXyGxoNiSLg9IztvK ._3lNi86HlPNjPtXgDNF-WFo .pBflM0Pz_jrvTc4loSYvJ input:-ms-input-placeholder{color:#999}._107PeYXyGxoNiSLg9IztvK ._2s2Nw3bi0TJ-VvJAt38T35{overflow-y:hidden;padding:0 10px 10px 10px;margin:0 -10px;box-sizing:content-box}._107PeYXyGxoNiSLg9IztvK ._2s2Nw3bi0TJ-VvJAt38T35 ._2JepLUCwJh0oetVubirkia{color:#666;border-bottom-right-radius:4px;border-bottom-left-radius:4px;background-color:#fff;border:1px solid #ccc;border-top-color:#e6e6e6;box-shadow:0 1px 0 rgba(0,0,0,0.06);margin-top:-1px;position:relative;width:100%;z-index:1;overflow-x:hidden;overflow-y:hidden}._107PeYXyGxoNiSLg9IztvK ._2s2Nw3bi0TJ-VvJAt38T35 ._2JepLUCwJh0oetVubirkia ._3qz6WvJ1-sBJFD4GxQTSRv{color:#666}._107PeYXyGxoNiSLg9IztvK ._2sUFe-6AzDG-XyJp11ZIjk{display:block;text-align:center;width:100%;padding:5px 0px;background:#f3beb8;border:1px solid #f09898;border-top:0;border-bottom:0;color:#34495e;position:relative;z-index:1}._107PeYXyGxoNiSLg9IztvK ._1yOPTQnbT-VZMoIPJkmU99{display:block}._107PeYXyGxoNiSLg9IztvK ._1BJjuSgVePTl_LkhixUPRh{padding:0.3em 0em 0.3em}._107PeYXyGxoNiSLg9IztvK ._3R5yWUur2ptMIdnOO7ZwuK{display:block;width:19px;float:left;height:1px}._107PeYXyGxoNiSLg9IztvK ._1BJjuSgVePTl_LkhixUPRh .etFpxY4rA6ICpilNYeZhq{border-right:2px solid #666}._107PeYXyGxoNiSLg9IztvK ._1BJjuSgVePTl_LkhixUPRh.etFpxY4rA6ICpilNYeZhq{background-color:rgba(100,100,100,0.08)}._107PeYXyGxoNiSLg9IztvK ._1BJjuSgVePTl_LkhixUPRh._3Obp74y3gkjxil5LpBT7Ue{background-color:rgba(0,126,255,0.16);color:#333;color:#666;cursor:pointer}._107PeYXyGxoNiSLg9IztvK ._1BJjuSgVePTl_LkhixUPRh._3Obp74y3gkjxil5LpBT7Ue.etFpxY4rA6ICpilNYeZhq{background-color:rgba(0,126,255,0.16)}._107PeYXyGxoNiSLg9IztvK ._2PEpGmzSGtnkrEU-Xl2MXA{opacity:0.5}._107PeYXyGxoNiSLg9IztvK .s00Ywjcc7wqN6dNumUS9D{cursor:pointer;display:block;float:left;width:1em;height:23px;margin-top:-5px;padding-top:5px;text-align:center;position:relative;z-index:1;padding-left:100px;left:-100px;margin-right:-100px;padding-right:0.2em}._107PeYXyGxoNiSLg9IztvK .s00Ywjcc7wqN6dNumUS9D:hover .l06trnk8iHHjeZ5MhzCkR{opacity:1;transition:opacity 300ms}._107PeYXyGxoNiSLg9IztvK ._1CCybRg67JjUMJgOlNYlKw{display:block}._107PeYXyGxoNiSLg9IztvK ._1CCybRg67JjUMJgOlNYlKw strong{color:#31708f}._107PeYXyGxoNiSLg9IztvK ._1z62K1AUcQnzf6YKCjddSe{color:#31708f;font-style:italic;margin-left:5px}._107PeYXyGxoNiSLg9IztvK .hK_xOuc2QI705fKFju4qw{position:relative;color:#31708f;opacity:0;max-height:0;overflow:hidden;padding-left:19px;left:-19px;padding-right:8px;padding-bottom:1px;top:-3px;cursor:default}._107PeYXyGxoNiSLg9IztvK .hK_xOuc2QI705fKFju4qw .u5naXNGgU_939iAGS-3pR{border-left:2px solid #31708f;padding-left:8px;padding-top:3px;padding-bottom:3px}._107PeYXyGxoNiSLg9IztvK .hK_xOuc2QI705fKFju4qw .u5naXNGgU_939iAGS-3pR div{margin-bottom:5px}._107PeYXyGxoNiSLg9IztvK .hK_xOuc2QI705fKFju4qw .u5naXNGgU_939iAGS-3pR div:last-child{margin-bottom:0}._107PeYXyGxoNiSLg9IztvK .hK_xOuc2QI705fKFju4qw .XHc_7lHArNfAVexnl6mgO{padding:0;font-style:italic;margin:8px 0 3px}._107PeYXyGxoNiSLg9IztvK .hK_xOuc2QI705fKFju4qw ul,._107PeYXyGxoNiSLg9IztvK .hK_xOuc2QI705fKFju4qw li{list-style-type:disc;text-indent:-7px;margin-left:8px}._107PeYXyGxoNiSLg9IztvK .hK_xOuc2QI705fKFju4qw a{color:royalblue;text-decoration:none;border-bottom:1px solid lightblue}._107PeYXyGxoNiSLg9IztvK .hK_xOuc2QI705fKFju4qw a:before{margin-left:-14px;border-bottom:none;margin-right:4px;content:'';display:inline-block;width:10px;height:10px;background-image:url(\\\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCwgMCwgNTc2LCA1MTIiPgogICAgPHBhdGggZD0iTTU3NiwyNCBMNTc2LDE1MS45ODQgQzU3NiwxNzMuNDQ1IDU1MC4wNCwxODMuOTY0IDUzNS4wMjksMTY4Ljk1NSBMNDk5LjMyMiwxMzMuMjQ2IEwyNTUuNzk5LDM3Ni43NjkgQzI0Ni40MjYsMzg2LjE0MiAyMzEuMjMxLDM4Ni4xNDIgMjIxLjg1OCwzNzYuNzY5IEwxOTkuMjMxLDM1NC4xNDIgQzE4OS44NTgsMzQ0Ljc2OSAxODkuODU4LDMyOS41NzMgMTk5LjIzMSwzMjAuMjAxIEw0NDIuNzU2LDc2LjY3NiBMNDA3LjA1Myw0MC45NzEgQzM5MS45ODIsMjUuOSA0MDIuNjU2LDAgNDI0LjAyNCwwIEw1NTIsMCBDNTY1LjI1NSwwIDU3NiwxMC43NDUgNTc2LDI0IHogTTQwNy4wMjksMjcwLjc5NCBMMzkxLjAyOSwyODYuNzk0IEMzODYuNTI4LDI5MS4yOTUgMzg0LDI5Ny40IDM4NCwzMDMuNzY1IEwzODQsNDQ4IEw2NCw0NDggTDY0LDEyOCBMMzI4LDEyOCBDMzM0LjM2NSwxMjggMzQwLjQ2OSwxMjUuNDcxIDM0NC45NywxMjAuOTcxIEwzNjAuOTcsMTA0Ljk3MSBDMzc2LjA4OSw4OS44NTEgMzY1LjM4MSw2NCAzNDQsNjQgTDQ4LDY0IEMyMS40OSw2NCAwLDg1LjQ5IDAsMTEyIEwwLDQ2NCBDMCw0OTAuNTEgMjEuNDksNTEyIDQ4LDUxMiBMNDAwLDUxMiBDNDI2LjUxLDUxMiA0NDgsNDkwLjUxIDQ0OCw0NjQgTDQ0OCwyODcuNzY0IEM0NDgsMjY2LjM4MiA0MjIuMTQ4LDI1NS42NzQgNDA3LjAyOSwyNzAuNzk0IHoiIGZpbGw9IiM2NDk1RUQiLz4KPC9zdmc+Cg==\\\");background-position:0 0;background-repeat:no-repeat}._107PeYXyGxoNiSLg9IztvK ._1JpLzxMId4rJjrnCxUAMks{display:inline-block;position:absolute;right:5px;margin-top:-17px;width:16px;height:16px;cursor:pointer}._107PeYXyGxoNiSLg9IztvK ._1YyhLIcRnsbGssqth-HNdF{max-height:999px;opacity:1;transition:all 300ms}._107PeYXyGxoNiSLg9IztvK .l06trnk8iHHjeZ5MhzCkR{border-color:transparent #666 transparent;border-style:solid;top:-1px;border-width:5px 0 5px 5px;margin-right:2px;margin-left:3px;display:inline-block;height:0;width:0;position:relative;opacity:0.5}._107PeYXyGxoNiSLg9IztvK .l06trnk8iHHjeZ5MhzCkR._3HL-dpFgNHg9z7BIxhhl9Z{border-color:#666 transparent transparent;top:0;margin:0;border-width:5px 5px 2.5px}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"placeholder\": \"aKyVE7MTXDoJMh6EtWIUB\",\n\t\"test\": \"_3MEaA3SCosSupBdcxxh1Zw\",\n\t\"spotlight\": \"_3Obp74y3gkjxil5LpBT7Ue\",\n\t\"info\": \"_1fe6wqB9-XnKWFPRfiscVx\",\n\t\"div-for-measures\": \"_1Xt7E1ZNKkTMZSGTqbzYm5\",\n\t\"inline\": \"_1hhNgzmISH4LID72hxkUi4\",\n\t\"edam-select-menu-wrap\": \"_2s2Nw3bi0TJ-VvJAt38T35\",\n\t\"edam-select-wrap\": \"_107PeYXyGxoNiSLg9IztvK\",\n\t\"tags-wrap\": \"_1x0m-ywfNzF6jpt6J9pKG-\",\n\t\"tag\": \"_1xY9lJ3hUyeKR3sfytTOWI\",\n\t\"tag-active\": \"_3MMvtEwX_ixysnCDUGuJ8b\",\n\t\"remove-wrap\": \"_2KrJlaY3EbVn4yztJ82K09\",\n\t\"remove\": \"_39OTdRHR_U0nnjVQ93ugDu\",\n\t\"clear-text\": \"_5d8D0LG_Tc6KIeCNlhISs\",\n\t\"clear-tags\": \"_1KtRDTNBUwJYqgpoGOW3jU\",\n\t\"is-open\": \"_2QjYwKOyTjSGoZWFb2_bHF\",\n\t\"edam-select-container\": \"_3lNi86HlPNjPtXgDNF-WFo\",\n\t\"edam-select-arrow\": \"_137VoNJ9DRrnXs3uN00iv5\",\n\t\"edam-select-spinner\": \"_1ImOSTUEJtvO4GfL5HawIH\",\n\t\"spin\": \"MXcLyJig2pSmdGmEB-UoN\",\n\t\"edam-select-arrow-wrap\": \"_3nlRYSUshSs-IySPiE442A\",\n\t\"is-focused\": \"_1JWoYfvOa5Jykb-H305Hjb\",\n\t\"input-focus\": \"_2F9EVJCAaqCOL0fCcpGUQl\",\n\t\"edam-select-menu\": \"_2JepLUCwJh0oetVubirkia\",\n\t\"menu-focus\": \"_1EvTw9pjcu6LFNNGbbRVcS\",\n\t\"edam-select-input-wrap\": \"pBflM0Pz_jrvTc4loSYvJ\",\n\t\"edam-select-menu-item\": \"_3qz6WvJ1-sBJFD4GxQTSRv\",\n\t\"edam-nothing-found\": \"_2sUFe-6AzDG-XyJp11ZIjk\",\n\t\"tree-menu\": \"_1yOPTQnbT-VZMoIPJkmU99\",\n\t\"label-wrapper\": \"_1BJjuSgVePTl_LkhixUPRh\",\n\t\"span\": \"_3R5yWUur2ptMIdnOO7ZwuK\",\n\t\"highlighted\": \"etFpxY4rA6ICpilNYeZhq\",\n\t\"selected\": \"_2PEpGmzSGtnkrEU-Xl2MXA\",\n\t\"triangle-wrap\": \"s00Ywjcc7wqN6dNumUS9D\",\n\t\"triangle\": \"l06trnk8iHHjeZ5MhzCkR\",\n\t\"term\": \"_1CCybRg67JjUMJgOlNYlKw\",\n\t\"by\": \"_1z62K1AUcQnzf6YKCjddSe\",\n\t\"details\": \"hK_xOuc2QI705fKFju4qw\",\n\t\"definitions\": \"u5naXNGgU_939iAGS-3pR\",\n\t\"title\": \"XHc_7lHArNfAVexnl6mgO\",\n\t\"checkbox\": \"_1JpLzxMId4rJjrnCxUAMks\",\n\t\"show\": \"_1YyhLIcRnsbGssqth-HNdF\",\n\t\"opened\": \"_3HL-dpFgNHg9z7BIxhhl9Z\"\n};","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \"{\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      // eslint-disable-next-line prefer-destructuring\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = modules[_i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = \"(\".concat(item[2], \") and (\").concat(mediaQuery, \")\");\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot).concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target) {\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertInto + \" \" + options.insertAt.before);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","// polyfills\n\n// from:https://github.com/jserz/js_piece/blob/master/DOM/ChildNode/remove()/remove().md\n(function (arr) {\n  arr.forEach(function (item) {\n    if (item.hasOwnProperty('remove')) {\n      return;\n    }\n    Object.defineProperty(item, 'remove', {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function remove() {\n        if (this.parentNode !== null)\n          this.parentNode.removeChild(this);\n      }\n    });\n  });\n})([Element.prototype, CharacterData.prototype, DocumentType.prototype]);\n\n\n(function () {\n\n  if ( typeof window.CustomEvent === \"function\" ) return false;\n\n  function CustomEvent ( event, params ) {\n    params = params || { bubbles: false, cancelable: false, detail: undefined };\n    var evt = document.createEvent( 'CustomEvent' );\n    evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );\n    return evt;\n  }\n\n  CustomEvent.prototype = window.Event.prototype;\n\n  window.CustomEvent = CustomEvent;\n})();\n","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n"],"sourceRoot":""}